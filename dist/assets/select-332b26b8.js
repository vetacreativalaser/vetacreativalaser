import{_ as Ao,a as le,h as Co,u as Ro,R as Eo,F as Po}from"./index-513338e5.js";import{c as Gn,E as _o,r as k,F as fn,j as W,i as fe,o as Re,g as Kn,n as be,y as Yn,p as To,k as ae,D as Mo,V as Io,h as En,A as Do,C as Oo,R as et,q as He}from"./index-ba09515d.js";import{u as un,a as No}from"./index-7fb1d1ab.js";import{C as Xn}from"./chevron-down-0606290e.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Gn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Gn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var Pn=!1,Ye,Gt,Kt,xt,bt,qn,St,Yt,Xt,qt,Qn,Qt,Jt,Jn,er;function pe(){if(!Pn){Pn=!0;var r=navigator.userAgent,i=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(r),e=/(Mac OS X)|(Windows)|(Linux)/.exec(r);if(Qt=/\b(iPhone|iP[ao]d)/.exec(r),Jt=/\b(iP[ao]d)/.exec(r),qt=/Android/i.exec(r),Jn=/FBAN\/\w+;/i.exec(r),er=/Mobile/i.exec(r),Qn=!!/Win64/.exec(r),i){Ye=i[1]?parseFloat(i[1]):i[5]?parseFloat(i[5]):NaN,Ye&&document&&document.documentMode&&(Ye=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(r);qn=n?parseFloat(n[1])+4:Ye,Gt=i[2]?parseFloat(i[2]):NaN,Kt=i[3]?parseFloat(i[3]):NaN,xt=i[4]?parseFloat(i[4]):NaN,xt?(i=/(?:Chrome\/(\d+\.\d+))/.exec(r),bt=i&&i[1]?parseFloat(i[1]):NaN):bt=NaN}else Ye=Gt=Kt=bt=xt=NaN;if(e){if(e[1]){var t=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(r);St=t?parseFloat(t[1].replace("_",".")):!0}else St=!1;Yt=!!e[2],Xt=!!e[3]}else St=Yt=Xt=!1}}var en={ie:function(){return pe()||Ye},ieCompatibilityMode:function(){return pe()||qn>Ye},ie64:function(){return en.ie()&&Qn},firefox:function(){return pe()||Gt},opera:function(){return pe()||Kt},webkit:function(){return pe()||xt},safari:function(){return en.webkit()},chrome:function(){return pe()||bt},windows:function(){return pe()||Yt},osx:function(){return pe()||St},linux:function(){return pe()||Xt},iphone:function(){return pe()||Qt},mobile:function(){return pe()||Qt||Jt||qt||er},nativeApp:function(){return pe()||Jn},android:function(){return pe()||qt},ipad:function(){return pe()||Jt}},Uo=en,vt=!!(typeof window<"u"&&window.document&&window.document.createElement),ko={canUseDOM:vt,canUseWorkers:typeof Worker<"u",canUseEventListeners:vt&&!!(window.addEventListener||window.attachEvent),canUseViewport:vt&&!!window.screen,isInWorker:!vt},zo=ko,tr=zo,nr;tr.canUseDOM&&(nr=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ho(r,i){if(!tr.canUseDOM||i&&!("addEventListener"in document))return!1;var e="on"+r,n=e in document;if(!n){var t=document.createElement("div");t.setAttribute(e,"return;"),n=typeof t[e]=="function"}return!n&&nr&&r==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var Wo=Ho,jo=Uo,Bo=Wo,_n=10,Tn=40,Mn=800;function rr(r){var i=0,e=0,n=0,t=0;return"detail"in r&&(e=r.detail),"wheelDelta"in r&&(e=-r.wheelDelta/120),"wheelDeltaY"in r&&(e=-r.wheelDeltaY/120),"wheelDeltaX"in r&&(i=-r.wheelDeltaX/120),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(i=e,e=0),n=i*_n,t=e*_n,"deltaY"in r&&(t=r.deltaY),"deltaX"in r&&(n=r.deltaX),(n||t)&&r.deltaMode&&(r.deltaMode==1?(n*=Tn,t*=Tn):(n*=Mn,t*=Mn)),n&&!i&&(i=n<1?-1:1),t&&!e&&(e=t<1?-1:1),{spinX:i,spinY:e,pixelX:n,pixelY:t}}rr.getEventType=function(){return jo.firefox()?"DOMMouseScroll":Bo("wheel")?"wheel":"mousewheel"};var Vo=rr,$o=Vo;const Zo=_o($o);function Go(r,i,e,n,t,o){o===void 0&&(o=0);var s=ot(r,i,o),a=s.width,u=s.height,h=Math.min(a,e),c=Math.min(u,n);return h>c*t?{width:c*t,height:c}:{width:h,height:h/t}}function Ko(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function ut(r,i,e,n,t){t===void 0&&(t=0);var o=ot(i.width,i.height,t),s=o.width,a=o.height;return{x:In(r.x,s,e.width,n),y:In(r.y,a,e.height,n)}}function In(r,i,e,n){var t=i*n/2-e/2;return Nt(r,-t,t)}function Dn(r,i){return Math.sqrt(Math.pow(r.y-i.y,2)+Math.pow(r.x-i.x,2))}function On(r,i){return Math.atan2(i.y-r.y,i.x-r.x)*180/Math.PI}function Yo(r,i,e,n,t,o,s){o===void 0&&(o=0),s===void 0&&(s=!0);var a=s?Xo:qo,u=ot(i.width,i.height,o),h=ot(i.naturalWidth,i.naturalHeight,o),c={x:a(100,((u.width-e.width/t)/2-r.x/t)/u.width*100),y:a(100,((u.height-e.height/t)/2-r.y/t)/u.height*100),width:a(100,e.width/u.width*100/t),height:a(100,e.height/u.height*100/t)},f=Math.round(a(h.width,c.width*h.width/100)),l=Math.round(a(h.height,c.height*h.height/100)),d=h.width>=h.height*n,g=d?{width:Math.round(l*n),height:l}:{width:f,height:Math.round(f/n)},y=le(le({},g),{x:Math.round(a(h.width-g.width,c.x*h.width/100)),y:Math.round(a(h.height-g.height,c.y*h.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:y}}function Xo(r,i){return Math.min(r,Math.max(0,i))}function qo(r,i){return i}function Qo(r,i,e,n,t,o){var s=ot(i.width,i.height,e),a=Nt(n.width/s.width*(100/r.width),t,o),u={x:a*s.width/2-n.width/2-s.width*a*(r.x/100),y:a*s.height/2-n.height/2-s.height*a*(r.y/100)};return{crop:u,zoom:a}}function Jo(r,i,e){var n=Ko(i);return e.height>e.width?e.height/(r.height*n):e.width/(r.width*n)}function ei(r,i,e,n,t,o){e===void 0&&(e=0);var s=ot(i.naturalWidth,i.naturalHeight,e),a=Nt(Jo(r,i,n),t,o),u=n.height>n.width?n.height/r.height:n.width/r.width,h={x:((s.width-r.width)/2-r.x)*u,y:((s.height-r.height)/2-r.y)*u};return{crop:h,zoom:a}}function Nn(r,i){return{x:(i.x+r.x)/2,y:(i.y+r.y)/2}}function ti(r){return r*Math.PI/180}function ot(r,i,e){var n=ti(e);return{width:Math.abs(Math.cos(n)*r)+Math.abs(Math.sin(n)*i),height:Math.abs(Math.sin(n)*r)+Math.abs(Math.cos(n)*i)}}function Nt(r,i,e){return Math.min(Math.max(r,i),e)}function wt(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var ni=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ri=1,oi=3,ii=1,ba=function(r){Ao(i,r);function i(){var e=r!==null&&r.apply(this,arguments)||this;return e.cropperRef=k.createRef(),e.imageRef=k.createRef(),e.videoRef=k.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var n=!0;e.resizeObserver=new window.ResizeObserver(function(t){if(n){n=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(n){return n.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var n=e.computeSizes();n&&(e.emitCropData(),e.setInitialCrop(n)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(n){if(e.props.initialCroppedAreaPercentages){var t=Qo(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,n,e.props.minZoom,e.props.maxZoom),o=t.crop,s=t.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(s)}else if(e.props.initialCroppedAreaPixels){var a=ei(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,n,e.props.minZoom,e.props.maxZoom),o=a.crop,s=a.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(s)}},e.computeSizes=function(){var n,t,o,s,a,u,h=e.imageRef.current||e.videoRef.current;if(h&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var c=e.containerRect.width/e.containerRect.height,f=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((t=e.videoRef.current)===null||t===void 0?void 0:t.videoWidth)||0,l=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((s=e.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=h.offsetWidth<f||h.offsetHeight<l,g=f/l,y=void 0;if(d)switch(e.state.mediaObjectFit){default:case"contain":y=c>g?{width:e.containerRect.height*g,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/g};break;case"horizontal-cover":y={width:e.containerRect.width,height:e.containerRect.width/g};break;case"vertical-cover":y={width:e.containerRect.height*g,height:e.containerRect.height};break}else y={width:h.offsetWidth,height:h.offsetHeight};e.mediaSize=le(le({},y),{naturalWidth:f,naturalHeight:l}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var S=e.props.cropSize?e.props.cropSize:Go(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((a=e.state.cropSize)===null||a===void 0?void 0:a.height)!==S.height||((u=e.state.cropSize)===null||u===void 0?void 0:u.width)!==S.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(S),e.setState({cropSize:S},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(S),S}},e.saveContainerPosition=function(){if(e.containerRef){var n=e.containerRef.getBoundingClientRect();e.containerPosition={x:n.left,y:n.top}}},e.onMouseDown=function(n){e.currentDoc&&(n.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(i.getMousePoint(n)))},e.onMouseMove=function(n){return e.onDrag(i.getMousePoint(n))},e.onScroll=function(n){e.currentDoc&&(n.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(n){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(n))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),n.touches.length===2?e.onPinchStart(n):n.touches.length===1&&e.onDragStart(i.getTouchPoint(n.touches[0]))))},e.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?e.onPinchMove(n):n.touches.length===1&&e.onDrag(i.getTouchPoint(n.touches[0]))},e.onGestureStart=function(n){e.currentDoc&&(n.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(n){if(n.preventDefault(),!e.isTouching){var t=i.getMousePoint(n),o=e.gestureZoomStart-1+n.scale;if(e.setNewZoom(o,t,{shouldUpdatePosition:!0}),e.props.onRotationChange){var s=e.gestureRotationStart+n.rotation;e.props.onRotationChange(s)}}},e.onGestureEnd=function(n){e.cleanEvents()},e.onDragStart=function(n){var t,o,s=n.x,a=n.y;e.dragStartPosition={x:s,y:a},e.dragStartCrop=le({},e.props.crop),(o=(t=e.props).onInteractionStart)===null||o===void 0||o.call(t)},e.onDrag=function(n){var t=n.x,o=n.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(t===void 0||o===void 0)){var s=t-e.dragStartPosition.x,a=o-e.dragStartPosition.y,u={x:e.dragStartCrop.x+s,y:e.dragStartCrop.y+a},h=e.props.restrictPosition?ut(u,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):u;e.props.onCropChange(h)}}))},e.onDragStopped=function(){var n,t;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(t=(n=e.props).onInteractionEnd)===null||t===void 0||t.call(n)},e.onWheel=function(n){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(n))){n.preventDefault();var t=i.getMousePoint(n),o=Zo(n).pixelY,s=e.props.zoom-o*e.props.zoomSpeed/200;e.setNewZoom(s,t,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var a,u;return(u=(a=e.props).onInteractionStart)===null||u===void 0?void 0:u.call(a)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var a,u;return(u=(a=e.props).onInteractionEnd)===null||u===void 0?void 0:u.call(a)})},250)}},e.getPointOnContainer=function(n,t){var o=n.x,s=n.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(o-t.x),y:e.containerRect.height/2-(s-t.y)}},e.getPointOnMedia=function(n){var t=n.x,o=n.y,s=e.props,a=s.crop,u=s.zoom;return{x:(t+a.x)/u,y:(o+a.y)/u}},e.setNewZoom=function(n,t,o){var s=o===void 0?{}:o,a=s.shouldUpdatePosition,u=a===void 0?!0:a;if(!(!e.state.cropSize||!e.props.onZoomChange)){var h=Nt(n,e.props.minZoom,e.props.maxZoom);if(u){var c=e.getPointOnContainer(t,e.containerPosition),f=e.getPointOnMedia(c),l={x:f.x*h-c.x,y:f.y*h-c.y},d=e.props.restrictPosition?ut(l,e.mediaSize,e.state.cropSize,h,e.props.rotation):l;e.props.onCropChange(d)}e.props.onZoomChange(h)}},e.getCropData=function(){if(!e.state.cropSize)return null;var n=e.props.restrictPosition?ut(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Yo(n,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var n=e.getCropData();if(n){var t=n.croppedAreaPercentages,o=n.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(t,o),e.props.onCropAreaChange&&e.props.onCropAreaChange(t,o)}},e.emitCropAreaChange=function(){var n=e.getCropData();if(n){var t=n.croppedAreaPercentages,o=n.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(t,o)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var n=e.props.restrictPosition?ut(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(n),e.emitCropData()}},e.onKeyDown=function(n){var t,o,s=e.props,a=s.crop,u=s.onCropChange,h=s.keyboardStep,c=s.zoom,f=s.rotation,l=h;if(e.state.cropSize){n.shiftKey&&(l*=.2);var d=le({},a);switch(n.key){case"ArrowUp":d.y-=l,n.preventDefault();break;case"ArrowDown":d.y+=l,n.preventDefault();break;case"ArrowLeft":d.x-=l,n.preventDefault();break;case"ArrowRight":d.x+=l,n.preventDefault();break;default:return}e.props.restrictPosition&&(d=ut(d,e.mediaSize,e.state.cropSize,c,f)),n.repeat||(o=(t=e.props).onInteractionStart)===null||o===void 0||o.call(t),u(d)}},e.onKeyUp=function(n){var t,o;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}e.emitCropData(),(o=(t=e.props).onInteractionEnd)===null||o===void 0||o.call(t)},e}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ni,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},i.prototype.componentWillUnmount=function(){var e,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(e){var n,t,o,s,a,u,h,c,f;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((n=e.cropSize)===null||n===void 0?void 0:n.height)!==((t=this.props.cropSize)===null||t===void 0?void 0:t.height)||((o=e.cropSize)===null||o===void 0?void 0:o.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((a=e.crop)===null||a===void 0?void 0:a.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((h=e.crop)===null||h===void 0?void 0:h.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var l=this.getObjectFit();l!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:l},this.computeSizes)},i.prototype.getAspect=function(){var e=this.props,n=e.cropSize,t=e.aspect;return n?n.width/n.height:t},i.prototype.getObjectFit=function(){var e,n,t,o;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,u=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,h=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,c=u/h;return c<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(e){var n=i.getTouchPoint(e.touches[0]),t=i.getTouchPoint(e.touches[1]);this.lastPinchDistance=Dn(n,t),this.lastPinchRotation=On(n,t),this.onDragStart(Nn(n,t))},i.prototype.onPinchMove=function(e){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var t=i.getTouchPoint(e.touches[0]),o=i.getTouchPoint(e.touches[1]),s=Nn(t,o);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=Dn(t,o),u=n.props.zoom*(a/n.lastPinchDistance);n.setNewZoom(u,s,{shouldUpdatePosition:!1}),n.lastPinchDistance=a;var h=On(t,o),c=n.props.rotation+(h-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(c),n.lastPinchRotation=h})}},i.prototype.render=function(){var e=this,n,t=this.props,o=t.image,s=t.video,a=t.mediaProps,u=t.cropperProps,h=t.transform,c=t.crop,f=c.x,l=c.y,d=t.rotation,g=t.zoom,y=t.cropShape,S=t.showGrid,x=t.style,_=x.containerStyle,P=x.cropAreaStyle,T=x.mediaStyle,N=t.classes,b=N.containerClassName,O=N.cropAreaClassName,w=N.mediaClassName,m=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return k.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(E){return e.containerRef=E},"data-testid":"container",style:_,className:wt("reactEasyCrop_Container",b)},o?k.createElement("img",le({alt:"",className:wt("reactEasyCrop_Image",m==="contain"&&"reactEasyCrop_Contain",m==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",m==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",w)},a,{src:o,ref:this.imageRef,style:le(le({},T),{transform:h||"translate(".concat(f,"px, ").concat(l,"px) rotate(").concat(d,"deg) scale(").concat(g,")")}),onLoad:this.onMediaLoad})):s&&k.createElement("video",le({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:wt("reactEasyCrop_Video",m==="contain"&&"reactEasyCrop_Contain",m==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",m==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",w)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:le(le({},T),{transform:h||"translate(".concat(f,"px, ").concat(l,"px) rotate(").concat(d,"deg) scale(").concat(g,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(C){return k.createElement("source",le({key:C.src},C))})),this.state.cropSize&&k.createElement("div",le({ref:this.cropperRef,style:le(le({},P),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:wt("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",O)},u)))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:oi,minZoom:ri,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:ii},i.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},i.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},i}(k.Component);function si(r,i){return i.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(n){if(n!=="default"&&!(n in r)){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}})}),Object.freeze(r)}function or(r,i){return new Promise(function(e,n){let t;return ai(r).then(function(o){try{return t=o,e(new Blob([i.slice(0,2),t,i.slice(2)],{type:"image/jpeg"}))}catch(s){return n(s)}},n)})}const ai=r=>new Promise((i,e)=>{const n=new FileReader;n.addEventListener("load",({target:{result:t}})=>{const o=new DataView(t);let s=0;if(o.getUint16(s)!==65496)return e("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const u=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const h=s+10;let c;switch(o.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return e("TIFF header contains invalid endian")}if(o.getUint16(h+2,c)!==42)return e("TIFF header contains invalid version");const f=o.getUint32(h+4,c),l=h+f+2+12*o.getUint16(h+f,c);for(let d=h+f+2;d<l;d+=12)if(o.getUint16(d,c)==274){if(o.getUint16(d+2,c)!==3)return e("Orientation data type is invalid");if(o.getUint32(d+4,c)!==1)return e("Orientation data count is invalid");o.setUint16(d+8,1,c);break}return i(t.slice(s,s+2+u))}s+=2+u}return i(new Blob)}),n.readAsArrayBuffer(r)});var Rt={},ci={get exports(){return Rt},set exports(r){Rt=r}};(function(r){var i,e,n={};ci.exports=n,n.parse=function(t,o){for(var s=n.bin.readUshort,a=n.bin.readUint,u=0,h={},c=new Uint8Array(t),f=c.length-4;a(c,f)!=101010256;)f--;u=f,u+=4;var l=s(c,u+=4);s(c,u+=2);var d=a(c,u+=2),g=a(c,u+=4);u+=4,u=g;for(var y=0;y<l;y++){a(c,u),u+=4,u+=4,u+=4,a(c,u+=4),d=a(c,u+=4);var S=a(c,u+=4),x=s(c,u+=4),_=s(c,u+2),P=s(c,u+4);u+=6;var T=a(c,u+=8);u+=4,u+=x+_+P,n._readLocal(c,T,h,d,S,o)}return h},n._readLocal=function(t,o,s,a,u,h){var c=n.bin.readUshort,f=n.bin.readUint;f(t,o),c(t,o+=4),c(t,o+=2);var l=c(t,o+=2);f(t,o+=2),f(t,o+=4),o+=4;var d=c(t,o+=8),g=c(t,o+=2);o+=2;var y=n.bin.readUTF8(t,o,d);if(o+=d,o+=g,h)s[y]={size:u,csize:a};else{var S=new Uint8Array(t.buffer,o);if(l==0)s[y]=new Uint8Array(S.buffer.slice(o,o+a));else{if(l!=8)throw"unknown compression method: "+l;var x=new Uint8Array(u);n.inflateRaw(S,x),s[y]=x}}},n.inflateRaw=function(t,o){return n.F.inflate(t,o)},n.inflate=function(t,o){return t[0],t[1],n.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),o)},n.deflate=function(t,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*t.length));a[s]=120,a[s+1]=156,s+=2,s=n.F.deflateRaw(t,a,s,o.level);var u=n.adler(t,0,t.length);return a[s+0]=u>>>24&255,a[s+1]=u>>>16&255,a[s+2]=u>>>8&255,a[s+3]=u>>>0&255,new Uint8Array(a.buffer,0,s+4)},n.deflateRaw=function(t,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*t.length)),a=n.F.deflateRaw(t,s,a,o.level);return new Uint8Array(s.buffer,0,a)},n.encode=function(t,o){o==null&&(o=!1);var s=0,a=n.bin.writeUint,u=n.bin.writeUshort,h={};for(var c in t){var f=!n._noNeed(c)&&!o,l=t[c],d=n.crc.crc(l,0,l.length);h[c]={cpr:f,usize:l.length,crc:d,file:f?n.deflateRaw(l):l}}for(var c in h)s+=h[c].file.length+30+46+2*n.bin.sizeUTF8(c);s+=22;var g=new Uint8Array(s),y=0,S=[];for(var c in h){var x=h[c];S.push(y),y=n._writeHeader(g,y,c,x,0)}var _=0,P=y;for(var c in h)x=h[c],S.push(y),y=n._writeHeader(g,y,c,x,1,S[_++]);var T=y-P;return a(g,y,101010256),y+=4,u(g,y+=4,_),u(g,y+=2,_),a(g,y+=2,T),a(g,y+=4,P),y+=4,y+=2,g.buffer},n._noNeed=function(t){var o=t.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(t,o,s,a,u,h){var c=n.bin.writeUint,f=n.bin.writeUshort,l=a.file;return c(t,o,u==0?67324752:33639248),o+=4,u==1&&(o+=2),f(t,o,20),f(t,o+=2,0),f(t,o+=2,a.cpr?8:0),c(t,o+=2,0),c(t,o+=4,a.crc),c(t,o+=4,l.length),c(t,o+=4,a.usize),f(t,o+=4,n.bin.sizeUTF8(s)),f(t,o+=2,0),o+=2,u==1&&(o+=2,o+=2,c(t,o+=6,h),o+=4),o+=n.bin.writeUTF8(t,o,s),u==0&&(t.set(l,o),o+=l.length),o},n.crc={table:function(){for(var t=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;t[o]=s}return t}(),update:function(t,o,s,a){for(var u=0;u<a;u++)t=n.crc.table[255&(t^o[s+u])]^t>>>8;return t},crc:function(t,o,s){return 4294967295^n.crc.update(4294967295,t,o,s)}},n.adler=function(t,o,s){for(var a=1,u=0,h=o,c=o+s;h<c;){for(var f=Math.min(h+5552,c);h<f;)u+=a+=t[h++];a%=65521,u%=65521}return u<<16|a},n.bin={readUshort:function(t,o){return t[o]|t[o+1]<<8},writeUshort:function(t,o,s){t[o]=255&s,t[o+1]=s>>8&255},readUint:function(t,o){return 16777216*t[o+3]+(t[o+2]<<16|t[o+1]<<8|t[o])},writeUint:function(t,o,s){t[o]=255&s,t[o+1]=s>>8&255,t[o+2]=s>>16&255,t[o+3]=s>>24&255},readASCII:function(t,o,s){for(var a="",u=0;u<s;u++)a+=String.fromCharCode(t[o+u]);return a},writeASCII:function(t,o,s){for(var a=0;a<s.length;a++)t[o+a]=s.charCodeAt(a)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,o,s){for(var a,u="",h=0;h<s;h++)u+="%"+n.bin.pad(t[o+h].toString(16));try{a=decodeURIComponent(u)}catch{return n.bin.readASCII(t,o,s)}return a},writeUTF8:function(t,o,s){for(var a=s.length,u=0,h=0;h<a;h++){var c=s.charCodeAt(h);if(!(4294967168&c))t[o+u]=c,u++;else if(!(4294965248&c))t[o+u]=192|c>>6,t[o+u+1]=128|c>>0&63,u+=2;else if(!(4294901760&c))t[o+u]=224|c>>12,t[o+u+1]=128|c>>6&63,t[o+u+2]=128|c>>0&63,u+=3;else{if(4292870144&c)throw"e";t[o+u]=240|c>>18,t[o+u+1]=128|c>>12&63,t[o+u+2]=128|c>>6&63,t[o+u+3]=128|c>>0&63,u+=4}}return u},sizeUTF8:function(t){for(var o=t.length,s=0,a=0;a<o;a++){var u=t.charCodeAt(a);if(!(4294967168&u))s++;else if(!(4294965248&u))s+=2;else if(!(4294901760&u))s+=3;else{if(4292870144&u)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(t,o,s,a){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=n.F.U,c=n.F._goodIndex;n.F._hash;var f=n.F._putsE,l=0,d=s<<3,g=0,y=t.length;if(a==0){for(;l<y;)f(o,d,l+(E=Math.min(65535,y-l))==y?1:0),d=n.F._copyExact(t,l,E,o,d+8),l+=E;return d>>>3}var S=h.lits,x=h.strt,_=h.prev,P=0,T=0,N=0,b=0,O=0,w=0;for(y>2&&(x[w=n.F._hash(t,0)]=0),l=0;l<y;l++){if(O=w,l+1<y-2){w=n.F._hash(t,l+1);var m=l+1&32767;_[m]=x[w],x[w]=m}if(g<=l){(P>14e3||T>26697)&&y-l>100&&(g<l&&(S[P]=l-g,P+=2,g=l),d=n.F._writeBlock(l==y-1||g==y?1:0,S,P,b,t,N,l-N,o,d),P=T=b=0,N=l);var C=0;l<y-2&&(C=n.F._bestMatch(t,l,_,O,Math.min(u[2],y-l),u[3]));var E=C>>>16,R=65535&C;if(C!=0){R=65535&C;var M=c(E=C>>>16,h.of0);h.lhst[257+M]++;var A=c(R,h.df0);h.dhst[A]++,b+=h.exb[M]+h.dxb[A],S[P]=E<<23|l-g,S[P+1]=R<<16|M<<8|A,P+=2,g=l+E}else h.lhst[t[l]]++;T++}}for(N==l&&t.length!=0||(g<l&&(S[P]=l-g,P+=2,g=l),d=n.F._writeBlock(1,S,P,b,t,N,l-N,o,d),P=0,T=0,P=T=b=0,N=l);7&d;)d++;return d>>>3},n.F._bestMatch=function(t,o,s,a,u,h){var c=32767&o,f=s[c],l=c-f+32768&32767;if(f==c||a!=n.F._hash(t,o-l))return 0;for(var d=0,g=0,y=Math.min(32767,o);l<=y&&--h!=0&&f!=c;){if(d==0||t[o+d]==t[o+d-l]){var S=n.F._howLong(t,o,l);if(S>d){if(g=l,(d=S)>=u)break;l+2<S&&(S=l+2);for(var x=0,_=0;_<S-2;_++){var P=o-l+_+32768&32767,T=P-s[P]+32768&32767;T>x&&(x=T,f=P)}}}l+=(c=f)-(f=s[c])+32768&32767}return d<<16|g},n.F._howLong=function(t,o,s){if(t[o]!=t[o-s]||t[o+1]!=t[o+1-s]||t[o+2]!=t[o+2-s])return 0;var a=o,u=Math.min(t.length,o+258);for(o+=3;o<u&&t[o]==t[o-s];)o++;return o-a},n.F._hash=function(t,o){return(t[o]<<8|t[o+1])+(t[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(t,o,s,a,u,h,c,f,l){var d,g,y,S,x,_,P,T,N,b=n.F.U,O=n.F._putsF,w=n.F._putsE;b.lhst[256]++,g=(d=n.F.getTrees())[0],y=d[1],S=d[2],x=d[3],_=d[4],P=d[5],T=d[6],N=d[7];var m=32+(l+3&7?8-(l+3&7):0)+(c<<3),C=a+n.F.contSize(b.fltree,b.lhst)+n.F.contSize(b.fdtree,b.dhst),E=a+n.F.contSize(b.ltree,b.lhst)+n.F.contSize(b.dtree,b.dhst);E+=14+3*P+n.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var R=0;R<286;R++)b.lhst[R]=0;for(R=0;R<30;R++)b.dhst[R]=0;for(R=0;R<19;R++)b.ihst[R]=0;var M=m<C&&m<E?0:C<E?1:2;if(O(f,l,t),O(f,l+1,M),l+=3,M==0){for(;7&l;)l++;l=n.F._copyExact(u,h,c,f,l)}else{var A,D;if(M==1&&(A=b.fltree,D=b.fdtree),M==2){n.F.makeCodes(b.ltree,g),n.F.revCodes(b.ltree,g),n.F.makeCodes(b.dtree,y),n.F.revCodes(b.dtree,y),n.F.makeCodes(b.itree,S),n.F.revCodes(b.itree,S),A=b.ltree,D=b.dtree,w(f,l,x-257),w(f,l+=5,_-1),w(f,l+=5,P-4),l+=4;for(var v=0;v<P;v++)w(f,l+3*v,b.itree[1+(b.ordr[v]<<1)]);l+=3*P,l=n.F._codeTiny(T,b.itree,f,l),l=n.F._codeTiny(N,b.itree,f,l)}for(var p=h,F=0;F<s;F+=2){for(var I=o[F],U=I>>>23,V=p+(8388607&I);p<V;)l=n.F._writeLit(u[p++],A,f,l);if(U!=0){var H=o[F+1],B=H>>16,z=H>>8&255,L=255&H;w(f,l=n.F._writeLit(257+z,A,f,l),U-b.of0[z]),l+=b.exb[z],O(f,l=n.F._writeLit(L,D,f,l),B-b.df0[L]),l+=b.dxb[L],p+=U}}l=n.F._writeLit(256,A,f,l)}return l},n.F._copyExact=function(t,o,s,a,u){var h=u>>>3;return a[h]=s,a[h+1]=s>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(t.buffer,o,s),h),u+(s+4<<3)},n.F.getTrees=function(){for(var t=n.F.U,o=n.F._hufTree(t.lhst,t.ltree,15),s=n.F._hufTree(t.dhst,t.dtree,15),a=[],u=n.F._lenCodes(t.ltree,a),h=[],c=n.F._lenCodes(t.dtree,h),f=0;f<a.length;f+=2)t.ihst[a[f]]++;for(f=0;f<h.length;f+=2)t.ihst[h[f]]++;for(var l=n.F._hufTree(t.ihst,t.itree,7),d=19;d>4&&t.itree[1+(t.ordr[d-1]<<1)]==0;)d--;return[o,s,l,u,c,d,a,h]},n.F.getSecond=function(t){for(var o=[],s=0;s<t.length;s+=2)o.push(t[s+1]);return o},n.F.nonZero=function(t){for(var o="",s=0;s<t.length;s+=2)t[s+1]!=0&&(o+=(s>>1)+",");return o},n.F.contSize=function(t,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*t[1+(a<<1)];return s},n.F._codeTiny=function(t,o,s,a){for(var u=0;u<t.length;u+=2){var h=t[u],c=t[u+1];a=n.F._writeLit(h,o,s,a);var f=h==16?2:h==17?3:7;h>15&&(n.F._putsE(s,a,c,f),a+=f)}return a},n.F._lenCodes=function(t,o){for(var s=t.length;s!=2&&t[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var u=t[a+1],h=a+3<s?t[a+3]:-1,c=a+5<s?t[a+5]:-1,f=a==0?-1:t[a-1];if(u==0&&h==u&&c==u){for(var l=a+5;l+2<s&&t[l+2]==u;)l+=2;(d=Math.min(l+1-a>>>1,138))<11?o.push(17,d-3):o.push(18,d-11),a+=2*d-2}else if(u==f&&h==u&&c==u){for(l=a+5;l+2<s&&t[l+2]==u;)l+=2;var d=Math.min(l+1-a>>>1,6);o.push(16,d-3),a+=2*d-2}else o.push(u,0)}return s>>>1},n.F._hufTree=function(t,o,s){var a=[],u=t.length,h=o.length,c=0;for(c=0;c<h;c+=2)o[c]=0,o[c+1]=0;for(c=0;c<u;c++)t[c]!=0&&a.push({lit:c,f:t[c]});var f=a.length,l=a.slice(0);if(f==0)return 0;if(f==1){var d=a[0].lit;return l=d==0?1:0,o[1+(d<<1)]=1,o[1+(l<<1)]=1,1}a.sort(function(T,N){return T.f-N.f});var g=a[0],y=a[1],S=0,x=1,_=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};x!=f-1;)g=S!=x&&(_==f||a[S].f<a[_].f)?a[S++]:a[_++],y=S!=x&&(_==f||a[S].f<a[_].f)?a[S++]:a[_++],a[x++]={lit:-1,f:g.f+y.f,l:g,r:y};var P=n.F.setDepth(a[x-1],0);for(P>s&&(n.F.restrictDepth(l,s,P),P=s),c=0;c<f;c++)o[1+(l[c].lit<<1)]=l[c].d;return P},n.F.setDepth=function(t,o){return t.lit!=-1?(t.d=o,o):Math.max(n.F.setDepth(t.l,o+1),n.F.setDepth(t.r,o+1))},n.F.restrictDepth=function(t,o,s){var a=0,u=1<<s-o,h=0;for(t.sort(function(f,l){return l.d==f.d?f.f-l.f:l.d-f.d}),a=0;a<t.length&&t[a].d>o;a++){var c=t[a].d;t[a].d=o,h+=u-(1<<s-c)}for(h>>>=s-o;h>0;)(c=t[a].d)<o?(t[a].d++,h-=1<<o-c-1):a++;for(;a>=0;a--)t[a].d==o&&h<0&&(t[a].d--,h++);h!=0&&console.log("debt left")},n.F._goodIndex=function(t,o){var s=0;return o[16|s]<=t&&(s|=16),o[8|s]<=t&&(s|=8),o[4|s]<=t&&(s|=4),o[2|s]<=t&&(s|=2),o[1|s]<=t&&(s|=1),s},n.F._writeLit=function(t,o,s,a){return n.F._putsF(s,a,o[t<<1]),a+o[1+(t<<1)]},n.F.inflate=function(t,o){var s=Uint8Array;if(t[0]==3&&t[1]==0)return o||new s(0);var a=n.F,u=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,l=a.codes2map,d=a._get17,g=a.U,y=o==null;y&&(o=new s(t.length>>>2<<3));for(var S,x,_=0,P=0,T=0,N=0,b=0,O=0,w=0,m=0,C=0;_==0;)if(_=u(t,C,1),P=u(t,C+1,2),C+=3,P!=0){if(y&&(o=n.F._check(o,m+(1<<17))),P==1&&(S=g.flmap,x=g.fdmap,O=511,w=31),P==2){T=h(t,C,5)+257,N=h(t,C+5,5)+1,b=h(t,C+10,4)+4,C+=14;for(var E=0;E<38;E+=2)g.itree[E]=0,g.itree[E+1]=0;var R=1;for(E=0;E<b;E++){var M=h(t,C+3*E,3);g.itree[1+(g.ordr[E]<<1)]=M,M>R&&(R=M)}C+=3*b,f(g.itree,R),l(g.itree,R,g.imap),S=g.lmap,x=g.dmap,C=c(g.imap,(1<<R)-1,T+N,t,C,g.ttree);var A=a._copyOut(g.ttree,0,T,g.ltree);O=(1<<A)-1;var D=a._copyOut(g.ttree,T,N,g.dtree);w=(1<<D)-1,f(g.ltree,A),l(g.ltree,A,S),f(g.dtree,D),l(g.dtree,D,x)}for(;;){var v=S[d(t,C)&O];C+=15&v;var p=v>>>4;if(!(p>>>8))o[m++]=p;else{if(p==256)break;var F=m+p-254;if(p>264){var I=g.ldef[p-257];F=m+(I>>>3)+h(t,C,7&I),C+=7&I}var U=x[d(t,C)&w];C+=15&U;var V=U>>>4,H=g.ddef[V],B=(H>>>4)+u(t,C,15&H);for(C+=15&H,y&&(o=n.F._check(o,m+(1<<17)));m<F;)o[m]=o[m++-B],o[m]=o[m++-B],o[m]=o[m++-B],o[m]=o[m++-B];m=F}}}else{7&C&&(C+=8-(7&C));var z=4+(C>>>3),L=t[z-4]|t[z-3]<<8;y&&(o=n.F._check(o,m+L)),o.set(new s(t.buffer,t.byteOffset+z,L),m),C=z+L<<3,m+=L}return o.length==m?o:o.slice(0,m)},n.F._check=function(t,o){var s=t.length;if(o<=s)return t;var a=new Uint8Array(Math.max(s<<1,o));return a.set(t,0),a},n.F._decodeTiny=function(t,o,s,a,u,h){for(var c=n.F._bitsE,f=n.F._get17,l=0;l<s;){var d=t[f(a,u)&o];u+=15&d;var g=d>>>4;if(g<=15)h[l]=g,l++;else{var y=0,S=0;g==16?(S=3+c(a,u,2),u+=2,y=h[l-1]):g==17?(S=3+c(a,u,3),u+=3):g==18&&(S=11+c(a,u,7),u+=7);for(var x=l+S;l<x;)h[l]=y,l++}}return u},n.F._copyOut=function(t,o,s,a){for(var u=0,h=0,c=a.length>>>1;h<s;){var f=t[h+o];a[h<<1]=0,a[1+(h<<1)]=f,f>u&&(u=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return u},n.F.makeCodes=function(t,o){for(var s,a,u,h,c=n.F.U,f=t.length,l=c.bl_count,d=0;d<=o;d++)l[d]=0;for(d=1;d<f;d+=2)l[t[d]]++;var g=c.next_code;for(s=0,l[0]=0,a=1;a<=o;a++)s=s+l[a-1]<<1,g[a]=s;for(u=0;u<f;u+=2)(h=t[u+1])!=0&&(t[u]=g[h],g[h]++)},n.F.codes2map=function(t,o,s){for(var a=t.length,u=n.F.U.rev15,h=0;h<a;h+=2)if(t[h+1]!=0)for(var c=h>>1,f=t[h+1],l=c<<4|f,d=o-f,g=t[h]<<d,y=g+(1<<d);g!=y;)s[u[g]>>>15-o]=l,g++},n.F.revCodes=function(t,o){for(var s=n.F.U.rev15,a=15-o,u=0;u<t.length;u+=2){var h=t[u]<<o-t[u+1];t[u]=s[h]>>>a}},n.F._putsE=function(t,o,s){s<<=7&o;var a=o>>>3;t[a]|=s,t[a+1]|=s>>>8},n.F._putsF=function(t,o,s){s<<=7&o;var a=o>>>3;t[a]|=s,t[a+1]|=s>>>8,t[a+2]|=s>>>16},n.F._bitsE=function(t,o,s){return(t[o>>>3]|t[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},n.F._bitsF=function(t,o,s){return(t[o>>>3]|t[1+(o>>>3)]<<8|t[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},n.F._get17=function(t,o){return(t[o>>>3]|t[1+(o>>>3)]<<8|t[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(t,o){return(t[o>>>3]|t[1+(o>>>3)]<<8|t[2+(o>>>3)]<<16|t[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(i=Uint16Array,e=Uint32Array,{next_code:new i(16),bl_count:new i(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new i(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new e(32),flmap:new i(512),fltree:[],fdmap:new i(32),fdtree:[],lmap:new i(32768),ltree:[],ttree:[],dmap:new i(32768),dtree:[],imap:new i(512),itree:[],rev15:new i(32768),lhst:new e(286),dhst:new e(30),ihst:new e(19),lits:new e(15e3),strt:new i(65536),prev:new i(32768)}),function(){for(var t=n.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,t.rev15[o]=(s>>>16|s<<16)>>>17}function a(u,h,c){for(;h--!=0;)u.push(0,c)}for(o=0;o<32;o++)t.ldef[o]=t.of0[o]<<3|t.exb[o],t.ddef[o]=t.df0[o]<<4|t.dxb[o];a(t.fltree,144,8),a(t.fltree,112,9),a(t.fltree,24,7),a(t.fltree,8,8),n.F.makeCodes(t.fltree,9),n.F.codes2map(t.fltree,9,t.flmap),n.F.revCodes(t.fltree,9),a(t.fdtree,32,5),n.F.makeCodes(t.fdtree,5),n.F.codes2map(t.fdtree,5,t.fdmap),n.F.revCodes(t.fdtree,5),a(t.itree,19,0),a(t.ltree,286,0),a(t.dtree,30,0),a(t.ttree,320,0)}()})();var li=si({__proto__:null,default:Rt},[Rt]);const Ae=function(){var r={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,l){c[f]=l>>8&255,c[f+1]=255&l},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,l){c[f]=l>>24&255,c[f+1]=l>>16&255,c[f+2]=l>>8&255,c[f+3]=255&l},readASCII(c,f,l){let d="";for(let g=0;g<l;g++)d+=String.fromCharCode(c[f+g]);return d},writeASCII(c,f,l){for(let d=0;d<l.length;d++)c[f+d]=l.charCodeAt(d)},readBytes(c,f,l){const d=[];for(let g=0;g<l;g++)d.push(c[f+g]);return d},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,l){let d,g="";for(let y=0;y<l;y++)g+=`%${r.pad(c[f+y].toString(16))}`;try{d=decodeURIComponent(g)}catch{return r.readASCII(c,f,l)}return d}};function i(c,f,l,d){const g=f*l,y=o(d),S=Math.ceil(f*y/8),x=new Uint8Array(4*g),_=new Uint32Array(x.buffer),{ctype:P}=d,{depth:T}=d,N=r.readUshort;if(P==6){const I=g<<2;if(T==8)for(var b=0;b<I;b+=4)x[b]=c[b],x[b+1]=c[b+1],x[b+2]=c[b+2],x[b+3]=c[b+3];if(T==16)for(b=0;b<I;b++)x[b]=c[b<<1]}else if(P==2){const I=d.tabs.tRNS;if(I==null){if(T==8)for(b=0;b<g;b++){var O=3*b;_[b]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O]}if(T==16)for(b=0;b<g;b++)O=6*b,_[b]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O]}else{var w=I[0];const U=I[1],V=I[2];if(T==8)for(b=0;b<g;b++){var m=b<<2;O=3*b,_[b]=255<<24|c[O+2]<<16|c[O+1]<<8|c[O],c[O]==w&&c[O+1]==U&&c[O+2]==V&&(x[m+3]=0)}if(T==16)for(b=0;b<g;b++)m=b<<2,O=6*b,_[b]=255<<24|c[O+4]<<16|c[O+2]<<8|c[O],N(c,O)==w&&N(c,O+2)==U&&N(c,O+4)==V&&(x[m+3]=0)}}else if(P==3){const I=d.tabs.PLTE,U=d.tabs.tRNS,V=U?U.length:0;if(T==1)for(var C=0;C<l;C++){var E=C*S,R=C*f;for(b=0;b<f;b++){m=R+b<<2;var M=3*(A=c[E+(b>>3)]>>7-((7&b)<<0)&1);x[m]=I[M],x[m+1]=I[M+1],x[m+2]=I[M+2],x[m+3]=A<V?U[A]:255}}if(T==2)for(C=0;C<l;C++)for(E=C*S,R=C*f,b=0;b<f;b++)m=R+b<<2,M=3*(A=c[E+(b>>2)]>>6-((3&b)<<1)&3),x[m]=I[M],x[m+1]=I[M+1],x[m+2]=I[M+2],x[m+3]=A<V?U[A]:255;if(T==4)for(C=0;C<l;C++)for(E=C*S,R=C*f,b=0;b<f;b++)m=R+b<<2,M=3*(A=c[E+(b>>1)]>>4-((1&b)<<2)&15),x[m]=I[M],x[m+1]=I[M+1],x[m+2]=I[M+2],x[m+3]=A<V?U[A]:255;if(T==8)for(b=0;b<g;b++){var A;m=b<<2,M=3*(A=c[b]),x[m]=I[M],x[m+1]=I[M+1],x[m+2]=I[M+2],x[m+3]=A<V?U[A]:255}}else if(P==4){if(T==8)for(b=0;b<g;b++){m=b<<2;var D=c[v=b<<1];x[m]=D,x[m+1]=D,x[m+2]=D,x[m+3]=c[v+1]}if(T==16)for(b=0;b<g;b++){var v;m=b<<2,D=c[v=b<<2],x[m]=D,x[m+1]=D,x[m+2]=D,x[m+3]=c[v+2]}}else if(P==0)for(w=d.tabs.tRNS?d.tabs.tRNS:-1,C=0;C<l;C++){const I=C*S,U=C*f;if(T==1)for(var p=0;p<f;p++){var F=(D=255*(c[I+(p>>>3)]>>>7-(7&p)&1))==255*w?0:255;_[U+p]=F<<24|D<<16|D<<8|D}else if(T==2)for(p=0;p<f;p++)F=(D=85*(c[I+(p>>>2)]>>>6-((3&p)<<1)&3))==85*w?0:255,_[U+p]=F<<24|D<<16|D<<8|D;else if(T==4)for(p=0;p<f;p++)F=(D=17*(c[I+(p>>>1)]>>>4-((1&p)<<2)&15))==17*w?0:255,_[U+p]=F<<24|D<<16|D<<8|D;else if(T==8)for(p=0;p<f;p++)F=(D=c[I+p])==w?0:255,_[U+p]=F<<24|D<<16|D<<8|D;else if(T==16)for(p=0;p<f;p++)D=c[I+(p<<1)],F=N(c,I+(p<<1))==w?0:255,_[U+p]=F<<24|D<<16|D<<8|D}return x}function e(c,f,l,d){const g=o(c),y=Math.ceil(l*g/8),S=new Uint8Array((y+1+c.interlace)*d);return f=c.tabs.CgBI?t(f,S):n(f,S),c.interlace==0?f=s(f,c,0,l,d):c.interlace==1&&(f=function(_,P){const T=P.width,N=P.height,b=o(P),O=b>>3,w=Math.ceil(T*b/8),m=new Uint8Array(N*w);let C=0;const E=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let D=0;for(;D<7;){const p=M[D],F=A[D];let I=0,U=0,V=E[D];for(;V<N;)V+=p,U++;let H=R[D];for(;H<T;)H+=F,I++;const B=Math.ceil(I*b/8);s(_,P,C,I,U);let z=0,L=E[D];for(;L<N;){let Z=R[D],j=C+z*B<<3;for(;Z<T;){var v;if(b==1&&(v=(v=_[j>>3])>>7-(7&j)&1,m[L*w+(Z>>3)]|=v<<7-((7&Z)<<0)),b==2&&(v=(v=_[j>>3])>>6-(7&j)&3,m[L*w+(Z>>2)]|=v<<6-((3&Z)<<1)),b==4&&(v=(v=_[j>>3])>>4-(7&j)&15,m[L*w+(Z>>1)]|=v<<4-((1&Z)<<2)),b>=8){const $=L*w+Z*O;for(let X=0;X<O;X++)m[$+X]=_[(j>>3)+X]}j+=b,Z+=F}z++,L+=p}I*U!=0&&(C+=U*(1+B)),D+=1}return m}(f,c)),f}function n(c,f){return t(new Uint8Array(c.buffer,2,c.length-6),f)}var t=function(){const c={H:{}};return c.H.N=function(f,l){const d=Uint8Array;let g,y,S=0,x=0,_=0,P=0,T=0,N=0,b=0,O=0,w=0;if(f[0]==3&&f[1]==0)return l||new d(0);const m=c.H,C=m.b,E=m.e,R=m.R,M=m.n,A=m.A,D=m.Z,v=m.m,p=l==null;for(p&&(l=new d(f.length>>>2<<5));S==0;)if(S=C(f,w,1),x=C(f,w+1,2),w+=3,x!=0){if(p&&(l=c.H.W(l,O+(1<<17))),x==1&&(g=v.J,y=v.h,N=511,b=31),x==2){_=E(f,w,5)+257,P=E(f,w+5,5)+1,T=E(f,w+10,4)+4,w+=14;let I=1;for(var F=0;F<38;F+=2)v.Q[F]=0,v.Q[F+1]=0;for(F=0;F<T;F++){const H=E(f,w+3*F,3);v.Q[1+(v.X[F]<<1)]=H,H>I&&(I=H)}w+=3*T,M(v.Q,I),A(v.Q,I,v.u),g=v.w,y=v.d,w=R(v.u,(1<<I)-1,_+P,f,w,v.v);const U=m.V(v.v,0,_,v.C);N=(1<<U)-1;const V=m.V(v.v,_,P,v.D);b=(1<<V)-1,M(v.C,U),A(v.C,U,g),M(v.D,V),A(v.D,V,y)}for(;;){const I=g[D(f,w)&N];w+=15&I;const U=I>>>4;if(!(U>>>8))l[O++]=U;else{if(U==256)break;{let V=O+U-254;if(U>264){const Z=v.q[U-257];V=O+(Z>>>3)+E(f,w,7&Z),w+=7&Z}const H=y[D(f,w)&b];w+=15&H;const B=H>>>4,z=v.c[B],L=(z>>>4)+C(f,w,15&z);for(w+=15&z;O<V;)l[O]=l[O++-L],l[O]=l[O++-L],l[O]=l[O++-L],l[O]=l[O++-L];O=V}}}}else{7&w&&(w+=8-(7&w));const I=4+(w>>>3),U=f[I-4]|f[I-3]<<8;p&&(l=c.H.W(l,O+U)),l.set(new d(f.buffer,f.byteOffset+I,U),O),w=I+U<<3,O+=U}return l.length==O?l:l.slice(0,O)},c.H.W=function(f,l){const d=f.length;if(l<=d)return f;const g=new Uint8Array(d<<1);return g.set(f,0),g},c.H.R=function(f,l,d,g,y,S){const x=c.H.e,_=c.H.Z;let P=0;for(;P<d;){const T=f[_(g,y)&l];y+=15&T;const N=T>>>4;if(N<=15)S[P]=N,P++;else{let b=0,O=0;N==16?(O=3+x(g,y,2),y+=2,b=S[P-1]):N==17?(O=3+x(g,y,3),y+=3):N==18&&(O=11+x(g,y,7),y+=7);const w=P+O;for(;P<w;)S[P]=b,P++}}return y},c.H.V=function(f,l,d,g){let y=0,S=0;const x=g.length>>>1;for(;S<d;){const _=f[S+l];g[S<<1]=0,g[1+(S<<1)]=_,_>y&&(y=_),S++}for(;S<x;)g[S<<1]=0,g[1+(S<<1)]=0,S++;return y},c.H.n=function(f,l){const d=c.H.m,g=f.length;let y,S,x,_;const P=d.j;for(var T=0;T<=l;T++)P[T]=0;for(T=1;T<g;T+=2)P[f[T]]++;const N=d.K;for(y=0,P[0]=0,S=1;S<=l;S++)y=y+P[S-1]<<1,N[S]=y;for(x=0;x<g;x+=2)_=f[x+1],_!=0&&(f[x]=N[_],N[_]++)},c.H.A=function(f,l,d){const g=f.length,y=c.H.m.r;for(let S=0;S<g;S+=2)if(f[S+1]!=0){const x=S>>1,_=f[S+1],P=x<<4|_,T=l-_;let N=f[S]<<T;const b=N+(1<<T);for(;N!=b;)d[y[N]>>>15-l]=P,N++}},c.H.l=function(f,l){const d=c.H.m.r,g=15-l;for(let y=0;y<f.length;y+=2){const S=f[y]<<l-f[y+1];f[y]=d[S]>>>g}},c.H.M=function(f,l,d){d<<=7&l;const g=l>>>3;f[g]|=d,f[g+1]|=d>>>8},c.H.I=function(f,l,d){d<<=7&l;const g=l>>>3;f[g]|=d,f[g+1]|=d>>>8,f[g+2]|=d>>>16},c.H.e=function(f,l,d){return(f[l>>>3]|f[1+(l>>>3)]<<8)>>>(7&l)&(1<<d)-1},c.H.b=function(f,l,d){return(f[l>>>3]|f[1+(l>>>3)]<<8|f[2+(l>>>3)]<<16)>>>(7&l)&(1<<d)-1},c.H.Z=function(f,l){return(f[l>>>3]|f[1+(l>>>3)]<<8|f[2+(l>>>3)]<<16)>>>(7&l)},c.H.i=function(f,l){return(f[l>>>3]|f[1+(l>>>3)]<<8|f[2+(l>>>3)]<<16|f[3+(l>>>3)]<<24)>>>(7&l)},c.H.m=function(){const f=Uint16Array,l=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new l(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new l(286),Y:new l(30),a:new l(19),t:new l(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var l=0;l<32768;l++){let g=l;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[l]=(g>>>16|g<<16)>>>17}function d(g,y,S){for(;y--!=0;)g.push(0,S)}for(l=0;l<32;l++)f.q[l]=f.S[l]<<3|f.T[l],f.c[l]=f.p[l]<<4|f.z[l];d(f._,144,8),d(f._,112,9),d(f._,24,7),d(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),d(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),d(f.Q,19,0),d(f.C,286,0),d(f.D,30,0),d(f.v,320,0)}(),c.H.N}();function o(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function s(c,f,l,d,g){let y=o(f);const S=Math.ceil(d*y/8);let x,_;y=Math.ceil(y/8);let P=c[l],T=0;if(P>1&&(c[l]=[0,0,1][P-2]),P==3)for(T=y;T<S;T++)c[T+1]=c[T+1]+(c[T+1-y]>>>1)&255;for(let N=0;N<g;N++)if(x=l+N*S,_=x+N+1,P=c[_-1],T=0,P==0)for(;T<S;T++)c[x+T]=c[_+T];else if(P==1){for(;T<y;T++)c[x+T]=c[_+T];for(;T<S;T++)c[x+T]=c[_+T]+c[x+T-y]}else if(P==2)for(;T<S;T++)c[x+T]=c[_+T]+c[x+T-S];else if(P==3){for(;T<y;T++)c[x+T]=c[_+T]+(c[x+T-S]>>>1);for(;T<S;T++)c[x+T]=c[_+T]+(c[x+T-S]+c[x+T-y]>>>1)}else{for(;T<y;T++)c[x+T]=c[_+T]+a(0,c[x+T-S],0);for(;T<S;T++)c[x+T]=c[_+T]+a(c[x+T-y],c[x+T-S],c[x+T-y-S])}return c}function a(c,f,l){const d=c+f-l,g=d-c,y=d-f,S=d-l;return g*g<=y*y&&g*g<=S*S?c:y*y<=S*S?f:l}function u(c,f,l){l.width=r.readUint(c,f),f+=4,l.height=r.readUint(c,f),f+=4,l.depth=c[f],f++,l.ctype=c[f],f++,l.compress=c[f],f++,l.filter=c[f],f++,l.interlace=c[f],f++}function h(c,f,l,d,g,y,S,x,_){const P=Math.min(f,g),T=Math.min(l,y);let N=0,b=0;for(let D=0;D<T;D++)for(let v=0;v<P;v++)if(S>=0&&x>=0?(N=D*f+v<<2,b=(x+D)*g+S+v<<2):(N=(-x+D)*f-S+v<<2,b=D*g+v<<2),_==0)d[b]=c[N],d[b+1]=c[N+1],d[b+2]=c[N+2],d[b+3]=c[N+3];else if(_==1){var O=c[N+3]*.00392156862745098,w=c[N]*O,m=c[N+1]*O,C=c[N+2]*O,E=d[b+3]*(1/255),R=d[b]*E,M=d[b+1]*E,A=d[b+2]*E;const p=1-O,F=O+E*p,I=F==0?0:1/F;d[b+3]=255*F,d[b+0]=(w+R*p)*I,d[b+1]=(m+M*p)*I,d[b+2]=(C+A*p)*I}else if(_==2)O=c[N+3],w=c[N],m=c[N+1],C=c[N+2],E=d[b+3],R=d[b],M=d[b+1],A=d[b+2],O==E&&w==R&&m==M&&C==A?(d[b]=0,d[b+1]=0,d[b+2]=0,d[b+3]=0):(d[b]=w,d[b+1]=m,d[b+2]=C,d[b+3]=O);else if(_==3){if(O=c[N+3],w=c[N],m=c[N+1],C=c[N+2],E=d[b+3],R=d[b],M=d[b+1],A=d[b+2],O==E&&w==R&&m==M&&C==A)continue;if(O<220&&E>20)return!1}return!0}return{decode:function(f){const l=new Uint8Array(f);let d=8;const g=r,y=g.readUshort,S=g.readUint,x={tabs:{},frames:[]},_=new Uint8Array(l.length);let P,T=0,N=0;const b=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(l[O]!=b[O])throw"The input is not a PNG file!";for(;d<l.length;){const D=g.readUint(l,d);d+=4;const v=g.readASCII(l,d,4);if(d+=4,v=="IHDR")u(l,d,x);else if(v=="iCCP"){for(var w=d;l[w]!=0;)w++;g.readASCII(l,d,w-d),l[w+1];const p=l.slice(w+2,d+D);let F=null;try{F=n(p)}catch{F=t(p)}x.tabs[v]=F}else if(v=="CgBI")x.tabs[v]=l.slice(d,d+4);else if(v=="IDAT"){for(O=0;O<D;O++)_[T+O]=l[d+O];T+=D}else if(v=="acTL")x.tabs[v]={num_frames:S(l,d),num_plays:S(l,d+4)},P=new Uint8Array(l.length);else if(v=="fcTL"){N!=0&&((A=x.frames[x.frames.length-1]).data=e(x,P.slice(0,N),A.rect.width,A.rect.height),N=0);const p={x:S(l,d+12),y:S(l,d+16),width:S(l,d+4),height:S(l,d+8)};let F=y(l,d+22);F=y(l,d+20)/(F==0?100:F);const I={rect:p,delay:Math.round(1e3*F),dispose:l[d+24],blend:l[d+25]};x.frames.push(I)}else if(v=="fdAT"){for(O=0;O<D-4;O++)P[N+O]=l[d+O+4];N+=D-4}else if(v=="pHYs")x.tabs[v]=[g.readUint(l,d),g.readUint(l,d+4),l[d+8]];else if(v=="cHRM")for(x.tabs[v]=[],O=0;O<8;O++)x.tabs[v].push(g.readUint(l,d+4*O));else if(v=="tEXt"||v=="zTXt"){x.tabs[v]==null&&(x.tabs[v]={});var m=g.nextZero(l,d),C=g.readASCII(l,d,m-d),E=d+D-m-1;if(v=="tEXt")M=g.readASCII(l,m+1,E);else{var R=n(l.slice(m+2,m+2+E));M=g.readUTF8(R,0,R.length)}x.tabs[v][C]=M}else if(v=="iTXt"){x.tabs[v]==null&&(x.tabs[v]={}),m=0,w=d,m=g.nextZero(l,w),C=g.readASCII(l,w,m-w);const p=l[w=m+1];var M;l[w+1],w+=2,m=g.nextZero(l,w),g.readASCII(l,w,m-w),w=m+1,m=g.nextZero(l,w),g.readUTF8(l,w,m-w),E=D-((w=m+1)-d),p==0?M=g.readUTF8(l,w,E):(R=n(l.slice(w,w+E)),M=g.readUTF8(R,0,R.length)),x.tabs[v][C]=M}else if(v=="PLTE")x.tabs[v]=g.readBytes(l,d,D);else if(v=="hIST"){const p=x.tabs.PLTE.length/3;for(x.tabs[v]=[],O=0;O<p;O++)x.tabs[v].push(y(l,d+2*O))}else if(v=="tRNS")x.ctype==3?x.tabs[v]=g.readBytes(l,d,D):x.ctype==0?x.tabs[v]=y(l,d):x.ctype==2&&(x.tabs[v]=[y(l,d),y(l,d+2),y(l,d+4)]);else if(v=="gAMA")x.tabs[v]=g.readUint(l,d)/1e5;else if(v=="sRGB")x.tabs[v]=l[d];else if(v=="bKGD")x.ctype==0||x.ctype==4?x.tabs[v]=[y(l,d)]:x.ctype==2||x.ctype==6?x.tabs[v]=[y(l,d),y(l,d+2),y(l,d+4)]:x.ctype==3&&(x.tabs[v]=l[d]);else if(v=="IEND")break;d+=D,g.readUint(l,d),d+=4}var A;return N!=0&&((A=x.frames[x.frames.length-1]).data=e(x,P.slice(0,N),A.rect.width,A.rect.height)),x.data=e(x,_,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(f){const l=f.width,d=f.height;if(f.tabs.acTL==null)return[i(f.data,l,d,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=l*d*4,S=new Uint8Array(y),x=new Uint8Array(y),_=new Uint8Array(y);for(let T=0;T<f.frames.length;T++){const N=f.frames[T],b=N.rect.x,O=N.rect.y,w=N.rect.width,m=N.rect.height,C=i(N.data,w,m,f);if(T!=0)for(var P=0;P<y;P++)_[P]=S[P];if(N.blend==0?h(C,w,m,S,l,d,b,O,0):N.blend==1&&h(C,w,m,S,l,d,b,O,1),g.push(S.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)h(x,w,m,S,l,d,b,O,0);else if(N.dispose==2)for(P=0;P<y;P++)S[P]=_[P]}}return g},_paeth:a,_copyTile:h,_bin:r}}();(function(){const{_copyTile:r}=Ae,{_bin:i}=Ae,e=Ae._paeth;var n={table:function(){const w=new Uint32Array(256);for(let m=0;m<256;m++){let C=m;for(let E=0;E<8;E++)1&C?C=3988292384^C>>>1:C>>>=1;w[m]=C}return w}(),update(w,m,C,E){for(let R=0;R<E;R++)w=n.table[255&(w^m[C+R])]^w>>>8;return w},crc:(w,m,C)=>4294967295^n.update(4294967295,w,m,C)};function t(w,m,C,E){m[C]+=w[0]*E>>4,m[C+1]+=w[1]*E>>4,m[C+2]+=w[2]*E>>4,m[C+3]+=w[3]*E>>4}function o(w){return Math.max(0,Math.min(255,w))}function s(w,m){const C=w[0]-m[0],E=w[1]-m[1],R=w[2]-m[2],M=w[3]-m[3];return C*C+E*E+R*R+M*M}function a(w,m,C,E,R,M,A){A==null&&(A=1);const D=E.length,v=[];for(var p=0;p<D;p++){const L=E[p];v.push([L>>>0&255,L>>>8&255,L>>>16&255,L>>>24&255])}for(p=0;p<D;p++){let L=4294967295;for(var F=0,I=0;I<D;I++){var U=s(v[p],v[I]);I!=p&&U<L&&(L=U,F=I)}}const V=new Uint32Array(R.buffer),H=new Int16Array(m*C*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<B.length;p++)B[p]=255*((B[p]+.5)/16-.5);for(let L=0;L<C;L++)for(let Z=0;Z<m;Z++){var z;p=4*(L*m+Z),A!=2?z=[o(w[p]+H[p]),o(w[p+1]+H[p+1]),o(w[p+2]+H[p+2]),o(w[p+3]+H[p+3])]:(U=B[4*(3&L)+(3&Z)],z=[o(w[p]+U),o(w[p+1]+U),o(w[p+2]+U),o(w[p+3]+U)]),F=0;let j=16777215;for(I=0;I<D;I++){const G=s(z,v[I]);G<j&&(j=G,F=I)}const $=v[F],X=[z[0]-$[0],z[1]-$[1],z[2]-$[2],z[3]-$[3]];A==1&&(Z!=m-1&&t(X,H,p+4,7),L!=C-1&&(Z!=0&&t(X,H,p+4*m-4,3),t(X,H,p+4*m,5),Z!=m-1&&t(X,H,p+4*m+4,1))),M[p>>2]=F,V[p>>2]=E[F]}}function u(w,m,C,E,R){R==null&&(R={});const{crc:M}=n,A=i.writeUint,D=i.writeUshort,v=i.writeASCII;let p=8;const F=w.frames.length>1;let I,U=!1,V=33+(F?20:0);if(R.sRGB!=null&&(V+=13),R.pHYs!=null&&(V+=21),R.iCCP!=null&&(I=pako.deflate(R.iCCP),V+=21+I.length+4),w.ctype==3){for(var H=w.plte.length,B=0;B<H;B++)w.plte[B]>>>24!=255&&(U=!0);V+=8+3*H+4+(U?8+1*H+4:0)}for(var z=0;z<w.frames.length;z++)F&&(V+=38),V+=($=w.frames[z]).cimg.length+12,z!=0&&(V+=4);V+=12;const L=new Uint8Array(V),Z=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)L[B]=Z[B];if(A(L,p,13),p+=4,v(L,p,"IHDR"),p+=4,A(L,p,m),p+=4,A(L,p,C),p+=4,L[p]=w.depth,p++,L[p]=w.ctype,p++,L[p]=0,p++,L[p]=0,p++,L[p]=0,p++,A(L,p,M(L,p-17,17)),p+=4,R.sRGB!=null&&(A(L,p,1),p+=4,v(L,p,"sRGB"),p+=4,L[p]=R.sRGB,p++,A(L,p,M(L,p-5,5)),p+=4),R.iCCP!=null){const X=13+I.length;A(L,p,X),p+=4,v(L,p,"iCCP"),p+=4,v(L,p,"ICC profile"),p+=11,p+=2,L.set(I,p),p+=I.length,A(L,p,M(L,p-(X+4),X+4)),p+=4}if(R.pHYs!=null&&(A(L,p,9),p+=4,v(L,p,"pHYs"),p+=4,A(L,p,R.pHYs[0]),p+=4,A(L,p,R.pHYs[1]),p+=4,L[p]=R.pHYs[2],p++,A(L,p,M(L,p-13,13)),p+=4),F&&(A(L,p,8),p+=4,v(L,p,"acTL"),p+=4,A(L,p,w.frames.length),p+=4,A(L,p,R.loop!=null?R.loop:0),p+=4,A(L,p,M(L,p-12,12)),p+=4),w.ctype==3){for(A(L,p,3*(H=w.plte.length)),p+=4,v(L,p,"PLTE"),p+=4,B=0;B<H;B++){const X=3*B,G=w.plte[B],K=255&G,Y=G>>>8&255,re=G>>>16&255;L[p+X+0]=K,L[p+X+1]=Y,L[p+X+2]=re}if(p+=3*H,A(L,p,M(L,p-3*H-4,3*H+4)),p+=4,U){for(A(L,p,H),p+=4,v(L,p,"tRNS"),p+=4,B=0;B<H;B++)L[p+B]=w.plte[B]>>>24&255;p+=H,A(L,p,M(L,p-H-4,H+4)),p+=4}}let j=0;for(z=0;z<w.frames.length;z++){var $=w.frames[z];F&&(A(L,p,26),p+=4,v(L,p,"fcTL"),p+=4,A(L,p,j++),p+=4,A(L,p,$.rect.width),p+=4,A(L,p,$.rect.height),p+=4,A(L,p,$.rect.x),p+=4,A(L,p,$.rect.y),p+=4,D(L,p,E[z]),p+=2,D(L,p,1e3),p+=2,L[p]=$.dispose,p++,L[p]=$.blend,p++,A(L,p,M(L,p-30,30)),p+=4);const X=$.cimg;A(L,p,(H=X.length)+(z==0?0:4)),p+=4;const G=p;v(L,p,z==0?"IDAT":"fdAT"),p+=4,z!=0&&(A(L,p,j++),p+=4),L.set(X,p),p+=H,A(L,p,M(L,G,p-G)),p+=4}return A(L,p,0),p+=4,v(L,p,"IEND"),p+=4,A(L,p,M(L,p-4,4)),p+=4,L.buffer}function h(w,m,C){for(let E=0;E<w.frames.length;E++){const R=w.frames[E];R.rect.width;const M=R.rect.height,A=new Uint8Array(M*R.bpl+M);R.cimg=d(R.img,M,R.bpp,R.bpl,A,m,C)}}function c(w,m,C,E,R){const M=R[0],A=R[1],D=R[2],v=R[3],p=R[4],F=R[5];let I=6,U=8,V=255;for(var H=0;H<w.length;H++){const te=new Uint8Array(w[H]);for(var B=te.length,z=0;z<B;z+=4)V&=te[z+3]}const L=V!=255,Z=function(q,J,ne,ue,ie,me){const se=[];for(var ee=0;ee<q.length;ee++){const de=new Uint8Array(q[ee]),Se=new Uint32Array(de.buffer);var ve;let xe=0,Ne=0,_e=J,Ze=ne,jt=ue?1:0;if(ee!=0){const bo=me||ue||ee==1||se[ee-2].dispose!=0?1:2;let Bt=0,Cn=1e9;for(let lt=0;lt<bo;lt++){var Ue=new Uint8Array(q[ee-1-lt]);const So=new Uint32Array(q[ee-1-lt]);let ke=J,ze=ne,tt=-1,ft=-1;for(let Ge=0;Ge<ne;Ge++)for(let Ke=0;Ke<J;Ke++)Se[ce=Ge*J+Ke]!=So[ce]&&(Ke<ke&&(ke=Ke),Ke>tt&&(tt=Ke),Ge<ze&&(ze=Ge),Ge>ft&&(ft=Ge));tt==-1&&(ke=ze=tt=ft=0),ie&&((1&ke)==1&&ke--,(1&ze)==1&&ze--);const Rn=(tt-ke+1)*(ft-ze+1);Rn<Cn&&(Cn=Rn,Bt=lt,xe=ke,Ne=ze,_e=tt-ke+1,Ze=ft-ze+1)}Ue=new Uint8Array(q[ee-1-Bt]),Bt==1&&(se[ee-1].dispose=2),ve=new Uint8Array(_e*Ze*4),r(Ue,J,ne,ve,_e,Ze,-xe,-Ne,0),jt=r(de,J,ne,ve,_e,Ze,-xe,-Ne,3)?1:0,jt==1?l(de,J,ne,ve,{x:xe,y:Ne,width:_e,height:Ze}):r(de,J,ne,ve,_e,Ze,-xe,-Ne,0)}else ve=de.slice(0);se.push({rect:{x:xe,y:Ne,width:_e,height:Ze},img:ve,blend:jt,dispose:0})}if(ue)for(ee=0;ee<se.length;ee++){if(($e=se[ee]).blend==1)continue;const de=$e.rect,Se=se[ee-1].rect,xe=Math.min(de.x,Se.x),Ne=Math.min(de.y,Se.y),_e={x:xe,y:Ne,width:Math.max(de.x+de.width,Se.x+Se.width)-xe,height:Math.max(de.y+de.height,Se.y+Se.height)-Ne};se[ee-1].dispose=1,ee-1!=0&&f(q,J,ne,se,ee-1,_e,ie),f(q,J,ne,se,ee,_e,ie)}let mt=0;if(q.length!=1)for(var ce=0;ce<se.length;ce++){var $e;mt+=($e=se[ce]).rect.width*$e.rect.height}return se}(w,m,C,M,A,D),j={},$=[],X=[];if(E!=0){const te=[];for(z=0;z<Z.length;z++)te.push(Z[z].img.buffer);const q=function(ie){let me=0;for(var se=0;se<ie.length;se++)me+=ie[se].byteLength;const ee=new Uint8Array(me);let ve=0;for(se=0;se<ie.length;se++){const Ue=new Uint8Array(ie[se]),mt=Ue.length;for(let ce=0;ce<mt;ce+=4){let $e=Ue[ce],de=Ue[ce+1],Se=Ue[ce+2];const xe=Ue[ce+3];xe==0&&($e=de=Se=0),ee[ve+ce]=$e,ee[ve+ce+1]=de,ee[ve+ce+2]=Se,ee[ve+ce+3]=xe}ve+=mt}return ee.buffer}(te),J=y(q,E);for(z=0;z<J.plte.length;z++)$.push(J.plte[z].est.rgba);let ne=0;for(z=0;z<Z.length;z++){const ue=(K=Z[z]).img.length;var G=new Uint8Array(J.inds.buffer,ne>>2,ue>>2);X.push(G);const ie=new Uint8Array(J.abuf,ne,ue);F&&a(K.img,K.rect.width,K.rect.height,$,ie,G),K.img.set(ie),ne+=ue}}else for(H=0;H<Z.length;H++){var K=Z[H];const te=new Uint32Array(K.img.buffer);var Y=K.rect.width;for(B=te.length,G=new Uint8Array(B),X.push(G),z=0;z<B;z++){const q=te[z];if(z!=0&&q==te[z-1])G[z]=G[z-1];else if(z>Y&&q==te[z-Y])G[z]=G[z-Y];else{let J=j[q];if(J==null&&(j[q]=J=$.length,$.push(q),$.length>=300))break;G[z]=J}}}const re=$.length;for(re<=256&&p==0&&(U=re<=2?1:re<=4?2:re<=16?4:8,U=Math.max(U,v)),H=0;H<Z.length;H++){(K=Z[H]).rect.x,K.rect.y,Y=K.rect.width;const te=K.rect.height;let q=K.img;new Uint32Array(q.buffer);let J=4*Y,ne=4;if(re<=256&&p==0){J=Math.ceil(U*Y/8);var oe=new Uint8Array(J*te);const ue=X[H];for(let ie=0;ie<te;ie++){z=ie*J;const me=ie*Y;if(U==8)for(var Q=0;Q<Y;Q++)oe[z+Q]=ue[me+Q];else if(U==4)for(Q=0;Q<Y;Q++)oe[z+(Q>>1)]|=ue[me+Q]<<4-4*(1&Q);else if(U==2)for(Q=0;Q<Y;Q++)oe[z+(Q>>2)]|=ue[me+Q]<<6-2*(3&Q);else if(U==1)for(Q=0;Q<Y;Q++)oe[z+(Q>>3)]|=ue[me+Q]<<7-1*(7&Q)}q=oe,I=3,ne=1}else if(L==0&&Z.length==1){oe=new Uint8Array(Y*te*3);const ue=Y*te;for(z=0;z<ue;z++){const ie=3*z,me=4*z;oe[ie]=q[me],oe[ie+1]=q[me+1],oe[ie+2]=q[me+2]}q=oe,I=2,ne=3,J=3*Y}K.img=q,K.bpl=J,K.bpp=ne}return{ctype:I,depth:U,plte:$,frames:Z}}function f(w,m,C,E,R,M,A){const D=Uint8Array,v=Uint32Array,p=new D(w[R-1]),F=new v(w[R-1]),I=R+1<w.length?new D(w[R+1]):null,U=new D(w[R]),V=new v(U.buffer);let H=m,B=C,z=-1,L=-1;for(let j=0;j<M.height;j++)for(let $=0;$<M.width;$++){const X=M.x+$,G=M.y+j,K=G*m+X,Y=V[K];Y==0||E[R-1].dispose==0&&F[K]==Y&&(I==null||I[4*K+3]!=0)||(X<H&&(H=X),X>z&&(z=X),G<B&&(B=G),G>L&&(L=G))}z==-1&&(H=B=z=L=0),A&&((1&H)==1&&H--,(1&B)==1&&B--),M={x:H,y:B,width:z-H+1,height:L-B+1};const Z=E[R];Z.rect=M,Z.blend=1,Z.img=new Uint8Array(M.width*M.height*4),E[R-1].dispose==0?(r(p,m,C,Z.img,M.width,M.height,-M.x,-M.y,0),l(U,m,C,Z.img,M)):r(U,m,C,Z.img,M.width,M.height,-M.x,-M.y,0)}function l(w,m,C,E,R){r(w,m,C,E,R.width,R.height,-R.x,-R.y,2)}function d(w,m,C,E,R,M,A){const D=[];let v,p=[0,1,2,3,4];M!=-1?p=[M]:(m*E>5e5||C==1)&&(p=[0]),A&&(v={level:0});const F=li;for(var I=0;I<p.length;I++){for(let H=0;H<m;H++)g(R,w,H,E,C,p[I]);D.push(F.deflate(R,v))}let U,V=1e9;for(I=0;I<D.length;I++)D[I].length<V&&(U=I,V=D[I].length);return D[U]}function g(w,m,C,E,R,M){const A=C*E;let D=A+C;if(w[D]=M,D++,M==0)if(E<500)for(var v=0;v<E;v++)w[D+v]=m[A+v];else w.set(new Uint8Array(m.buffer,A,E),D);else if(M==1){for(v=0;v<R;v++)w[D+v]=m[A+v];for(v=R;v<E;v++)w[D+v]=m[A+v]-m[A+v-R]+256&255}else if(C==0){for(v=0;v<R;v++)w[D+v]=m[A+v];if(M==2)for(v=R;v<E;v++)w[D+v]=m[A+v];if(M==3)for(v=R;v<E;v++)w[D+v]=m[A+v]-(m[A+v-R]>>1)+256&255;if(M==4)for(v=R;v<E;v++)w[D+v]=m[A+v]-e(m[A+v-R],0,0)+256&255}else{if(M==2)for(v=0;v<E;v++)w[D+v]=m[A+v]+256-m[A+v-E]&255;if(M==3){for(v=0;v<R;v++)w[D+v]=m[A+v]+256-(m[A+v-E]>>1)&255;for(v=R;v<E;v++)w[D+v]=m[A+v]+256-(m[A+v-E]+m[A+v-R]>>1)&255}if(M==4){for(v=0;v<R;v++)w[D+v]=m[A+v]+256-e(0,m[A+v-E],0)&255;for(v=R;v<E;v++)w[D+v]=m[A+v]+256-e(m[A+v-R],m[A+v-E],m[A+v-R-E])&255}}}function y(w,m){const C=new Uint8Array(w),E=C.slice(0),R=new Uint32Array(E.buffer),M=S(E,m),A=M[0],D=M[1],v=C.length,p=new Uint8Array(v>>2);let F;if(C.length<2e7)for(var I=0;I<v;I+=4)F=x(A,U=C[I]*(1/255),V=C[I+1]*(1/255),H=C[I+2]*(1/255),B=C[I+3]*(1/255)),p[I>>2]=F.ind,R[I>>2]=F.est.rgba;else for(I=0;I<v;I+=4){var U=C[I]*.00392156862745098,V=C[I+1]*(1/255),H=C[I+2]*(1/255),B=C[I+3]*(1/255);for(F=A;F.left;)F=_(F.est,U,V,H,B)<=0?F.left:F.right;p[I>>2]=F.ind,R[I>>2]=F.est.rgba}return{abuf:E.buffer,inds:p,plte:D}}function S(w,m,C){C==null&&(C=1e-4);const E=new Uint32Array(w.buffer),R={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=N(w,R.i0,R.i1),R.est=b(R.bst);const M=[R];for(;M.length<m;){let D=0,v=0;for(var A=0;A<M.length;A++)M[A].est.L>D&&(D=M[A].est.L,v=A);if(D<C)break;const p=M[v],F=P(w,E,p.i0,p.i1,p.est.e,p.est.eMq255);if(p.i0>=F||p.i1<=F){p.est.L=0;continue}const I={i0:p.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};I.bst=N(w,I.i0,I.i1),I.est=b(I.bst);const U={i0:F,i1:p.i1,bst:null,est:null,tdst:0,left:null,right:null};for(U.bst={R:[],m:[],N:p.bst.N-I.bst.N},A=0;A<16;A++)U.bst.R[A]=p.bst.R[A]-I.bst.R[A];for(A=0;A<4;A++)U.bst.m[A]=p.bst.m[A]-I.bst.m[A];U.est=b(U.bst),p.left=I,p.right=U,M[v]=I,M.push(U)}for(M.sort((D,v)=>v.bst.N-D.bst.N),A=0;A<M.length;A++)M[A].ind=A;return[R,M]}function x(w,m,C,E,R){if(w.left==null)return w.tdst=function(I,U,V,H,B){const z=U-I[0],L=V-I[1],Z=H-I[2],j=B-I[3];return z*z+L*L+Z*Z+j*j}(w.est.q,m,C,E,R),w;const M=_(w.est,m,C,E,R);let A=w.left,D=w.right;M>0&&(A=w.right,D=w.left);const v=x(A,m,C,E,R);if(v.tdst<=M*M)return v;const p=x(D,m,C,E,R);return p.tdst<v.tdst?p:v}function _(w,m,C,E,R){const{e:M}=w;return M[0]*m+M[1]*C+M[2]*E+M[3]*R-w.eMq}function P(w,m,C,E,R,M){for(E-=4;C<E;){for(;T(w,C,R)<=M;)C+=4;for(;T(w,E,R)>M;)E-=4;if(C>=E)break;const A=m[C>>2];m[C>>2]=m[E>>2],m[E>>2]=A,C+=4,E-=4}for(;T(w,C,R)>M;)C-=4;return C+4}function T(w,m,C){return w[m]*C[0]+w[m+1]*C[1]+w[m+2]*C[2]+w[m+3]*C[3]}function N(w,m,C){const E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],M=C-m>>2;for(let A=m;A<C;A+=4){const D=w[A]*.00392156862745098,v=w[A+1]*(1/255),p=w[A+2]*(1/255),F=w[A+3]*(1/255);R[0]+=D,R[1]+=v,R[2]+=p,R[3]+=F,E[0]+=D*D,E[1]+=D*v,E[2]+=D*p,E[3]+=D*F,E[5]+=v*v,E[6]+=v*p,E[7]+=v*F,E[10]+=p*p,E[11]+=p*F,E[15]+=F*F}return E[4]=E[1],E[8]=E[2],E[9]=E[6],E[12]=E[3],E[13]=E[7],E[14]=E[11],{R:E,m:R,N:M}}function b(w){const{R:m}=w,{m:C}=w,{N:E}=w,R=C[0],M=C[1],A=C[2],D=C[3],v=E==0?0:1/E,p=[m[0]-R*R*v,m[1]-R*M*v,m[2]-R*A*v,m[3]-R*D*v,m[4]-M*R*v,m[5]-M*M*v,m[6]-M*A*v,m[7]-M*D*v,m[8]-A*R*v,m[9]-A*M*v,m[10]-A*A*v,m[11]-A*D*v,m[12]-D*R*v,m[13]-D*M*v,m[14]-D*A*v,m[15]-D*D*v],F=p,I=O;let U=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,H=0;if(E!=0)for(let z=0;z<16&&(U=I.multVec(F,U),H=Math.sqrt(I.dot(U,U)),U=I.sml(1/H,U),!(z!=0&&Math.abs(H-V)<1e-9));z++)V=H;const B=[R*v,M*v,A*v,D*v];return{Cov:p,q:B,e:U,L:V,eMq255:I.dot(I.sml(255,B),U),eMq:I.dot(U,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var O={multVec:(w,m)=>[w[0]*m[0]+w[1]*m[1]+w[2]*m[2]+w[3]*m[3],w[4]*m[0]+w[5]*m[1]+w[6]*m[2]+w[7]*m[3],w[8]*m[0]+w[9]*m[1]+w[10]*m[2]+w[11]*m[3],w[12]*m[0]+w[13]*m[1]+w[14]*m[2]+w[15]*m[3]],dot:(w,m)=>w[0]*m[0]+w[1]*m[1]+w[2]*m[2]+w[3]*m[3],sml:(w,m)=>[w*m[0],w*m[1],w*m[2],w*m[3]]};Ae.encode=function(m,C,E,R,M,A,D){R==null&&(R=0),D==null&&(D=!1);const v=c(m,C,E,R,[!1,!1,!1,0,D,!1]);return h(v,-1),u(v,C,E,M,A)},Ae.encodeLL=function(m,C,E,R,M,A,D,v){const p={ctype:0+(R==1?0:2)+(M==0?0:4),depth:A,frames:[]},F=(R+M)*A,I=F*C;for(let U=0;U<m.length;U++)p.frames.push({rect:{x:0,y:0,width:C,height:E},img:new Uint8Array(m[U]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(I/8)});return h(p,0,!0),u(p,C,E,D,v)},Ae.encode.compress=c,Ae.encode.dither=a,Ae.quantize=y,Ae.quantize.getKDtree=S,Ae.quantize.getNearest=x})();const ir={toArrayBuffer(r,i){const e=r.width,n=r.height,t=e<<2,o=r.getContext("2d").getImageData(0,0,e,n),s=new Uint32Array(o.data.buffer),a=(32*e+31)/32<<2,u=a*n,h=122+u,c=new ArrayBuffer(h),f=new DataView(c),l=1<<20;let d,g,y,S,x=l,_=0,P=0,T=0;function N(w){f.setUint16(P,w,!0),P+=2}function b(w){f.setUint32(P,w,!0),P+=4}function O(w){P+=w}N(19778),b(h),O(4),b(122),b(108),b(e),b(-n>>>0),N(1),N(32),b(3),b(u),b(2835),b(2835),O(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),function w(){for(;_<n&&x>0;){for(S=122+_*a,d=0;d<t;)x--,g=s[T++],y=g>>>24,f.setUint32(S+d,g<<8|y),d+=4;_++}T<s.length?(x=l,setTimeout(w,ir._dly)):i(c)}()},toBlob(r,i){this.toArrayBuffer(r,e=>{i(new Blob([e],{type:"image/bmp"}))})},_dly:9};var ge={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},fi={[ge.CHROME]:16384,[ge.FIREFOX]:11180,[ge.DESKTOP_SAFARI]:16384,[ge.IE]:8192,[ge.IOS]:4096,[ge.ETC]:8192};const dn=typeof window<"u",sr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Et=dn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ui=(dn||sr)&&(Et&&Et.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ar=(dn||sr)&&(Et&&Et.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function hn(r,i,e=Date.now()){return new Promise(n=>{const t=r.split(","),o=t[0].match(/:(.*?);/)[1],s=globalThis.atob(t[1]);let a=s.length;const u=new Uint8Array(a);for(;a--;)u[a]=s.charCodeAt(a);const h=new Blob([u],{type:o});h.name=i,h.lastModified=e,n(h)})}function cr(r){return new Promise((i,e)=>{const n=new ar;n.onload=()=>i(n.result),n.onerror=t=>e(t),n.readAsDataURL(r)})}function lr(r){return new Promise((i,e)=>{const n=new Image;n.onload=()=>i(n),n.onerror=t=>e(t),n.src=r})}function Xe(){if(Xe.cachedResult!==void 0)return Xe.cachedResult;let r=ge.ETC;const{userAgent:i}=navigator;return/Chrom(e|ium)/i.test(i)?r=ge.CHROME:/iP(ad|od|hone)/i.test(i)&&/WebKit/i.test(i)?r=ge.IOS:/Safari/i.test(i)?r=ge.DESKTOP_SAFARI:/Firefox/i.test(i)?r=ge.FIREFOX:(/MSIE/i.test(i)||document.documentMode)&&(r=ge.IE),Xe.cachedResult=r,Xe.cachedResult}function fr(r,i){const e=Xe(),n=fi[e];let t=r,o=i,s=t*o;const a=t>o?o/t:t/o;for(;s>n*n;){const u=(n+t)/2,h=(n+o)/2;u<h?(o=h,t=h*a):(o=u*a,t=u),s=t*o}return{width:t,height:o}}function Ft(r,i){let e,n;try{if(e=new OffscreenCanvas(r,i),n=e.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{e=document.createElement("canvas"),n=e.getContext("2d")}return e.width=r,e.height=i,[e,n]}function ur(r,i){const{width:e,height:n}=fr(r.width,r.height),[t,o]=Ft(e,n);return i&&/jpe?g/.test(i)&&(o.fillStyle="white",o.fillRect(0,0,t.width,t.height)),o.drawImage(r,0,0,t.width,t.height),t}function At(){return At.cachedResult!==void 0||(At.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),At.cachedResult}function Pt(r,i={}){return new Promise(function(e,n){let t,o;var s=function(){try{return o=ur(t,i.fileType||r.type),e([t,o])}catch(u){return n(u)}},a=function(u){try{var h=function(c){try{throw c}catch(f){return n(f)}};try{let c;return cr(r).then(function(f){try{return c=f,lr(c).then(function(l){try{return t=l,function(){try{return s()}catch(d){return n(d)}}()}catch(d){return h(d)}},h)}catch(l){return h(l)}},h)}catch(c){h(c)}}catch(c){return n(c)}};try{if(At()||[ge.DESKTOP_SAFARI,ge.MOBILE_SAFARI].includes(Xe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(u){try{return t=u,s()}catch{return a()}},a)}catch{a()}})}function _t(r,i,e,n,t=1){return new Promise(function(o,s){let a;if(i==="image/png"){let h,c,f;return h=r.getContext("2d"),{data:c}=h.getImageData(0,0,r.width,r.height),f=Ae.encode([c.buffer],r.width,r.height,4096*t),a=new Blob([f],{type:i}),a.name=e,a.lastModified=n,u.call(this)}{let h=function(){return u.call(this)};if(i==="image/bmp")return new Promise(c=>ir.toBlob(r,c)).then((function(c){try{return a=c,a.name=e,a.lastModified=n,h.call(this)}catch(f){return s(f)}}).bind(this),s);{let c=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:i,quality:t}).then((function(f){try{return a=f,a.name=e,a.lastModified=n,c.call(this)}catch(l){return s(l)}}).bind(this),s);{let f;return f=r.toDataURL(i,t),hn(f,e,n).then((function(l){try{return a=l,c.call(this)}catch(d){return s(d)}}).bind(this),s)}}}function u(){return o(a)}})}function Te(r){r.width=0,r.height=0}function nt(){return new Promise(function(r,i){let e,n,t,o;return nt.cachedResult!==void 0?r(nt.cachedResult):hn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return e=s,Pt(e).then(function(a){try{return n=a[1],_t(n,e.type,e.name,e.lastModified).then(function(u){try{return t=u,Te(n),Pt(t).then(function(h){try{return o=h[0],nt.cachedResult=o.width===1&&o.height===2,r(nt.cachedResult)}catch(c){return i(c)}},i)}catch(h){return i(h)}},i)}catch(u){return i(u)}},i)}catch(a){return i(a)}},i)})}function dr(r){return new Promise((i,e)=>{const n=new ar;n.onload=t=>{const o=new DataView(t.target.result);if(o.getUint16(0,!1)!=65496)return i(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return i(-1);const u=o.getUint16(a,!1);if(a+=2,u==65505){if(o.getUint32(a+=2,!1)!=1165519206)return i(-1);const h=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,h);const c=o.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(o.getUint16(a+12*f,h)==274)return i(o.getUint16(a+12*f+8,h))}else{if((65280&u)!=65280)break;a+=o.getUint16(a,!1)}}return i(-1)},n.onerror=t=>e(t),n.readAsArrayBuffer(r)})}function hr(r,i){const{width:e}=r,{height:n}=r,{maxWidthOrHeight:t}=i;let o,s=r;return isFinite(t)&&(e>t||n>t)&&([s,o]=Ft(e,n),e>n?(s.width=t,s.height=n/e*t):(s.width=e/n*t,s.height=t),o.drawImage(r,0,0,s.width,s.height),Te(r)),s}function pr(r,i){const{width:e}=r,{height:n}=r,[t,o]=Ft(e,n);switch(i>4&&i<9?(t.width=n,t.height=e):(t.width=e,t.height=n),i){case 2:o.transform(-1,0,0,1,e,0);break;case 3:o.transform(-1,0,0,-1,e,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,e);break;case 8:o.transform(0,-1,1,0,0,e)}return o.drawImage(r,0,0,e,n),Te(r),t}function Fn(r,i,e=0){return new Promise(function(n,t){let o,s,a,u,h,c,f,l,d,g,y,S,x,_,P,T,N,b,O,w;function m(E=5){if(i.signal&&i.signal.aborted)throw i.signal.reason;o+=E,i.onProgress(Math.min(o,100))}function C(E){if(i.signal&&i.signal.aborted)throw i.signal.reason;o=Math.min(Math.max(E,o),100),i.onProgress(o)}return o=e,s=i.maxIteration||10,a=1024*i.maxSizeMB*1024,m(),Pt(r,i).then((function(E){try{return[,u]=E,m(),h=hr(u,i),m(),new Promise(function(R,M){var A;if(!(A=i.exifOrientation))return dr(r).then((function(v){try{return A=v,D.call(this)}catch(p){return M(p)}}).bind(this),M);function D(){return R(A)}return D.call(this)}).then((function(R){try{return c=R,m(),nt().then((function(M){try{return f=M?h:pr(h,c),m(),l=i.initialQuality||1,d=i.fileType||r.type,_t(f,d,r.name,r.lastModified,l).then((function(A){try{{let v=function(){if(s--&&(P>a||P>x)){let F,I;return F=w?.95*O.width:O.width,I=w?.95*O.height:O.height,[N,b]=Ft(F,I),b.drawImage(O,0,0,F,I),l*=d==="image/png"?.85:.95,_t(N,d,r.name,r.lastModified,l).then(function(U){try{return T=U,Te(O),O=N,P=T.size,C(Math.min(99,Math.floor((_-P)/(_-a)*100))),v}catch(V){return t(V)}},t)}return[1]},p=function(){return Te(O),Te(N),Te(h),Te(f),Te(u),C(100),n(T)};if(g=A,m(),y=g.size>a,S=g.size>r.size,!y&&!S)return C(100),n(g);var D;return x=r.size,_=g.size,P=_,O=f,w=!i.alwaysKeepResolution&&y,(D=(function(F){for(;F;){if(F.then)return void F.then(D,t);try{if(F.pop){if(F.length)return F.pop()?p.call(this):F;F=v}else F=F.call(this)}catch(I){return t(I)}}}).bind(this))(v)}}catch(v){return t(v)}}).bind(this),t)}catch(A){return t(A)}}).bind(this),t)}catch(M){return t(M)}}).bind(this),t)}catch(R){return t(R)}}).bind(this),t)})}const di=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Vt;function hi(r,i){return new Promise((e,n)=>{Vt||(Vt=function(s){const a=[];return typeof s=="function"?a.push(`(${s})()`):a.push(s),URL.createObjectURL(new Blob(a))}(di));const t=new Worker(Vt);t.addEventListener("message",function(s){if(i.signal&&i.signal.aborted)t.terminate();else if(s.data.progress===void 0){if(s.data.error)return n(new Error(s.data.error)),void t.terminate();e(s.data.file),t.terminate()}else i.onProgress(s.data.progress)}),t.addEventListener("error",n),i.signal&&i.signal.addEventListener("abort",()=>{n(i.signal.reason),t.terminate()}),t.postMessage({file:r,imageCompressionLibUrl:i.libURL,options:{...i,onProgress:void 0,signal:void 0}})})}function he(r,i){return new Promise(function(e,n){let t,o,s,a,u,h;if(t={...i},s=0,{onProgress:a}=t,t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof t.useWebWorker!="boolean"||t.useWebWorker,delete t.useWebWorker,t.onProgress=d=>{s=d,typeof a=="function"&&a(s)},!(r instanceof Blob||r instanceof ui))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return n(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||h)return Fn(r,t).then((function(d){try{return o=d,l.call(this)}catch(g){return n(g)}}).bind(this),n);var c=(function(){try{return l.call(this)}catch(d){return n(d)}}).bind(this),f=function(d){try{return Fn(r,t).then(function(g){try{return o=g,c()}catch(y){return n(y)}},n)}catch(g){return n(g)}};try{return t.libURL=t.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",hi(r,t).then(function(d){try{return o=d,c()}catch{return f()}},f)}catch{f()}function l(){try{o.name=r.name,o.lastModified=r.lastModified}catch{}try{t.preserveExif&&r.type==="image/jpeg"&&(!t.fileType||t.fileType&&t.fileType===r.type)&&(o=or(r,o))}catch{}return e(o)}})}he.getDataUrlFromFile=cr,he.getFilefromDataUrl=hn,he.loadImage=lr,he.drawImageInCanvas=ur,he.drawFileInCanvas=Pt,he.canvasToFile=_t,he.getExifOrientation=dr,he.handleMaxWidthOrHeight=hr,he.followExifOrientation=pr,he.cleanupCanvasMemory=Te,he.isAutoOrientationInBrowser=nt,he.approximateBelowMaximumCanvasSizeOfBrowser=fr,he.copyExifWithoutOrientation=or,he.getBrowserName=Xe,he.version="2.0.2";const Sa=(r,i)=>new Promise((e,n)=>{const t=new Image;t.src=r,t.onload=()=>{const o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(t,i.x,i.y,i.width,i.height,0,0,i.width,i.height),o.toBlob(a=>{if(!a)return n(new Error("No se pudo recortar"));e(a)},"image/webp")},t.onerror=n});function Ln(r,[i,e]){return Math.min(e,Math.max(i,r))}const pi=["top","right","bottom","left"],We=Math.min,we=Math.max,Tt=Math.round,yt=Math.floor,Ie=r=>({x:r,y:r}),gi={left:"right",right:"left",bottom:"top",top:"bottom"},mi={start:"end",end:"start"};function tn(r,i,e){return we(r,We(i,e))}function Fe(r,i){return typeof r=="function"?r(i):r}function Le(r){return r.split("-")[0]}function st(r){return r.split("-")[1]}function pn(r){return r==="x"?"y":"x"}function gn(r){return r==="y"?"height":"width"}const vi=new Set(["top","bottom"]);function Me(r){return vi.has(Le(r))?"y":"x"}function mn(r){return pn(Me(r))}function wi(r,i,e){e===void 0&&(e=!1);const n=st(r),t=mn(r),o=gn(t);let s=t==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return i.reference[o]>i.floating[o]&&(s=Mt(s)),[s,Mt(s)]}function yi(r){const i=Mt(r);return[nn(r),i,nn(i)]}function nn(r){return r.replace(/start|end/g,i=>mi[i])}const Un=["left","right"],kn=["right","left"],xi=["top","bottom"],bi=["bottom","top"];function Si(r,i,e){switch(r){case"top":case"bottom":return e?i?kn:Un:i?Un:kn;case"left":case"right":return i?xi:bi;default:return[]}}function Ai(r,i,e,n){const t=st(r);let o=Si(Le(r),e==="start",n);return t&&(o=o.map(s=>s+"-"+t),i&&(o=o.concat(o.map(nn)))),o}function Mt(r){return r.replace(/left|right|bottom|top/g,i=>gi[i])}function Ci(r){return{top:0,right:0,bottom:0,left:0,...r}}function gr(r){return typeof r!="number"?Ci(r):{top:r,right:r,bottom:r,left:r}}function It(r){const{x:i,y:e,width:n,height:t}=r;return{width:n,height:t,top:e,left:i,right:i+n,bottom:e+t,x:i,y:e}}function zn(r,i,e){let{reference:n,floating:t}=r;const o=Me(i),s=mn(i),a=gn(s),u=Le(i),h=o==="y",c=n.x+n.width/2-t.width/2,f=n.y+n.height/2-t.height/2,l=n[a]/2-t[a]/2;let d;switch(u){case"top":d={x:c,y:n.y-t.height};break;case"bottom":d={x:c,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:f};break;case"left":d={x:n.x-t.width,y:f};break;default:d={x:n.x,y:n.y}}switch(st(i)){case"start":d[s]-=l*(e&&h?-1:1);break;case"end":d[s]+=l*(e&&h?-1:1);break}return d}const Ri=async(r,i,e)=>{const{placement:n="bottom",strategy:t="absolute",middleware:o=[],platform:s}=e,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(i));let h=await s.getElementRects({reference:r,floating:i,strategy:t}),{x:c,y:f}=zn(h,n,u),l=n,d={},g=0;for(let y=0;y<a.length;y++){const{name:S,fn:x}=a[y],{x:_,y:P,data:T,reset:N}=await x({x:c,y:f,initialPlacement:n,placement:l,strategy:t,middlewareData:d,rects:h,platform:s,elements:{reference:r,floating:i}});c=_??c,f=P??f,d={...d,[S]:{...d[S],...T}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(l=N.placement),N.rects&&(h=N.rects===!0?await s.getElementRects({reference:r,floating:i,strategy:t}):N.rects),{x:c,y:f}=zn(h,l,u)),y=-1)}return{x:c,y:f,placement:l,strategy:t,middlewareData:d}};async function ht(r,i){var e;i===void 0&&(i={});const{x:n,y:t,platform:o,rects:s,elements:a,strategy:u}=r,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:l=!1,padding:d=0}=Fe(i,r),g=gr(d),S=a[l?f==="floating"?"reference":"floating":f],x=It(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(S)))==null||e?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:u})),_=f==="floating"?{x:n,y:t,width:s.floating.width,height:s.floating.height}:s.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),T=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},N=It(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:P,strategy:u}):_);return{top:(x.top-N.top+g.top)/T.y,bottom:(N.bottom-x.bottom+g.bottom)/T.y,left:(x.left-N.left+g.left)/T.x,right:(N.right-x.right+g.right)/T.x}}const Ei=r=>({name:"arrow",options:r,async fn(i){const{x:e,y:n,placement:t,rects:o,platform:s,elements:a,middlewareData:u}=i,{element:h,padding:c=0}=Fe(r,i)||{};if(h==null)return{};const f=gr(c),l={x:e,y:n},d=mn(t),g=gn(d),y=await s.getDimensions(h),S=d==="y",x=S?"top":"left",_=S?"bottom":"right",P=S?"clientHeight":"clientWidth",T=o.reference[g]+o.reference[d]-l[d]-o.floating[g],N=l[d]-o.reference[d],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let O=b?b[P]:0;(!O||!await(s.isElement==null?void 0:s.isElement(b)))&&(O=a.floating[P]||o.floating[g]);const w=T/2-N/2,m=O/2-y[g]/2-1,C=We(f[x],m),E=We(f[_],m),R=C,M=O-y[g]-E,A=O/2-y[g]/2+w,D=tn(R,A,M),v=!u.arrow&&st(t)!=null&&A!==D&&o.reference[g]/2-(A<R?C:E)-y[g]/2<0,p=v?A<R?A-R:A-M:0;return{[d]:l[d]+p,data:{[d]:D,centerOffset:A-D-p,...v&&{alignmentOffset:p}},reset:v}}}),Pi=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(i){var e,n;const{placement:t,middlewareData:o,rects:s,initialPlacement:a,platform:u,elements:h}=i,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:l,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...S}=Fe(r,i);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const x=Le(t),_=Me(a),P=Le(a)===a,T=await(u.isRTL==null?void 0:u.isRTL(h.floating)),N=l||(P||!y?[Mt(a)]:yi(a)),b=g!=="none";!l&&b&&N.push(...Ai(a,y,g,T));const O=[a,...N],w=await ht(i,S),m=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&m.push(w[x]),f){const A=wi(t,s,T);m.push(w[A[0]],w[A[1]])}if(C=[...C,{placement:t,overflows:m}],!m.every(A=>A<=0)){var E,R;const A=(((E=o.flip)==null?void 0:E.index)||0)+1,D=O[A];if(D&&(!(f==="alignment"?_!==Me(D):!1)||C.every(F=>F.overflows[0]>0&&Me(F.placement)===_)))return{data:{index:A,overflows:C},reset:{placement:D}};let v=(R=C.filter(p=>p.overflows[0]<=0).sort((p,F)=>p.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!v)switch(d){case"bestFit":{var M;const p=(M=C.filter(F=>{if(b){const I=Me(F.placement);return I===_||I==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((F,I)=>F[1]-I[1])[0])==null?void 0:M[0];p&&(v=p);break}case"initialPlacement":v=a;break}if(t!==v)return{reset:{placement:v}}}return{}}}};function Hn(r,i){return{top:r.top-i.height,right:r.right-i.width,bottom:r.bottom-i.height,left:r.left-i.width}}function Wn(r){return pi.some(i=>r[i]>=0)}const _i=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(i){const{rects:e}=i,{strategy:n="referenceHidden",...t}=Fe(r,i);switch(n){case"referenceHidden":{const o=await ht(i,{...t,elementContext:"reference"}),s=Hn(o,e.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Wn(s)}}}case"escaped":{const o=await ht(i,{...t,altBoundary:!0}),s=Hn(o,e.floating);return{data:{escapedOffsets:s,escaped:Wn(s)}}}default:return{}}}}},mr=new Set(["left","top"]);async function Ti(r,i){const{placement:e,platform:n,elements:t}=r,o=await(n.isRTL==null?void 0:n.isRTL(t.floating)),s=Le(e),a=st(e),u=Me(e)==="y",h=mr.has(s)?-1:1,c=o&&u?-1:1,f=Fe(i,r);let{mainAxis:l,crossAxis:d,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(d=a==="end"?g*-1:g),u?{x:d*c,y:l*h}:{x:l*h,y:d*c}}const Mi=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(i){var e,n;const{x:t,y:o,placement:s,middlewareData:a}=i,u=await Ti(i,r);return s===((e=a.offset)==null?void 0:e.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:t+u.x,y:o+u.y,data:{...u,placement:s}}}}},Ii=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(i){const{x:e,y:n,placement:t}=i,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x,y:_}=S;return{x,y:_}}},...u}=Fe(r,i),h={x:e,y:n},c=await ht(i,u),f=Me(Le(t)),l=pn(f);let d=h[l],g=h[f];if(o){const S=l==="y"?"top":"left",x=l==="y"?"bottom":"right",_=d+c[S],P=d-c[x];d=tn(_,d,P)}if(s){const S=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=g+c[S],P=g-c[x];g=tn(_,g,P)}const y=a.fn({...i,[l]:d,[f]:g});return{...y,data:{x:y.x-e,y:y.y-n,enabled:{[l]:o,[f]:s}}}}}},Di=function(r){return r===void 0&&(r={}),{options:r,fn(i){const{x:e,y:n,placement:t,rects:o,middlewareData:s}=i,{offset:a=0,mainAxis:u=!0,crossAxis:h=!0}=Fe(r,i),c={x:e,y:n},f=Me(t),l=pn(f);let d=c[l],g=c[f];const y=Fe(a,i),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const P=l==="y"?"height":"width",T=o.reference[l]-o.floating[P]+S.mainAxis,N=o.reference[l]+o.reference[P]-S.mainAxis;d<T?d=T:d>N&&(d=N)}if(h){var x,_;const P=l==="y"?"width":"height",T=mr.has(Le(t)),N=o.reference[f]-o.floating[P]+(T&&((x=s.offset)==null?void 0:x[f])||0)+(T?0:S.crossAxis),b=o.reference[f]+o.reference[P]+(T?0:((_=s.offset)==null?void 0:_[f])||0)-(T?S.crossAxis:0);g<N?g=N:g>b&&(g=b)}return{[l]:d,[f]:g}}}},Oi=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(i){var e,n;const{placement:t,rects:o,platform:s,elements:a}=i,{apply:u=()=>{},...h}=Fe(r,i),c=await ht(i,h),f=Le(t),l=st(t),d=Me(t)==="y",{width:g,height:y}=o.floating;let S,x;f==="top"||f==="bottom"?(S=f,x=l===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,S=l==="end"?"top":"bottom");const _=y-c.top-c.bottom,P=g-c.left-c.right,T=We(y-c[S],_),N=We(g-c[x],P),b=!i.middlewareData.shift;let O=T,w=N;if((e=i.middlewareData.shift)!=null&&e.enabled.x&&(w=P),(n=i.middlewareData.shift)!=null&&n.enabled.y&&(O=_),b&&!l){const C=we(c.left,0),E=we(c.right,0),R=we(c.top,0),M=we(c.bottom,0);d?w=g-2*(C!==0||E!==0?C+E:we(c.left,c.right)):O=y-2*(R!==0||M!==0?R+M:we(c.top,c.bottom))}await u({...i,availableWidth:w,availableHeight:O});const m=await s.getDimensions(a.floating);return g!==m.width||y!==m.height?{reset:{rects:!0}}:{}}}};function Lt(){return typeof window<"u"}function at(r){return vr(r)?(r.nodeName||"").toLowerCase():"#document"}function ye(r){var i;return(r==null||(i=r.ownerDocument)==null?void 0:i.defaultView)||window}function Oe(r){var i;return(i=(vr(r)?r.ownerDocument:r.document)||window.document)==null?void 0:i.documentElement}function vr(r){return Lt()?r instanceof Node||r instanceof ye(r).Node:!1}function Ee(r){return Lt()?r instanceof Element||r instanceof ye(r).Element:!1}function De(r){return Lt()?r instanceof HTMLElement||r instanceof ye(r).HTMLElement:!1}function jn(r){return!Lt()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ye(r).ShadowRoot}const Ni=new Set(["inline","contents"]);function gt(r){const{overflow:i,overflowX:e,overflowY:n,display:t}=Pe(r);return/auto|scroll|overlay|hidden|clip/.test(i+n+e)&&!Ni.has(t)}const Fi=new Set(["table","td","th"]);function Li(r){return Fi.has(at(r))}const Ui=[":popover-open",":modal"];function Ut(r){return Ui.some(i=>{try{return r.matches(i)}catch{return!1}})}const ki=["transform","translate","scale","rotate","perspective"],zi=["transform","translate","scale","rotate","perspective","filter"],Hi=["paint","layout","strict","content"];function vn(r){const i=wn(),e=Ee(r)?Pe(r):r;return ki.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!i&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!i&&(e.filter?e.filter!=="none":!1)||zi.some(n=>(e.willChange||"").includes(n))||Hi.some(n=>(e.contain||"").includes(n))}function Wi(r){let i=je(r);for(;De(i)&&!it(i);){if(vn(i))return i;if(Ut(i))return null;i=je(i)}return null}function wn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ji=new Set(["html","body","#document"]);function it(r){return ji.has(at(r))}function Pe(r){return ye(r).getComputedStyle(r)}function kt(r){return Ee(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function je(r){if(at(r)==="html")return r;const i=r.assignedSlot||r.parentNode||jn(r)&&r.host||Oe(r);return jn(i)?i.host:i}function wr(r){const i=je(r);return it(i)?r.ownerDocument?r.ownerDocument.body:r.body:De(i)&&gt(i)?i:wr(i)}function pt(r,i,e){var n;i===void 0&&(i=[]),e===void 0&&(e=!0);const t=wr(r),o=t===((n=r.ownerDocument)==null?void 0:n.body),s=ye(t);if(o){const a=rn(s);return i.concat(s,s.visualViewport||[],gt(t)?t:[],a&&e?pt(a):[])}return i.concat(t,pt(t,[],e))}function rn(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function yr(r){const i=Pe(r);let e=parseFloat(i.width)||0,n=parseFloat(i.height)||0;const t=De(r),o=t?r.offsetWidth:e,s=t?r.offsetHeight:n,a=Tt(e)!==o||Tt(n)!==s;return a&&(e=o,n=s),{width:e,height:n,$:a}}function yn(r){return Ee(r)?r:r.contextElement}function rt(r){const i=yn(r);if(!De(i))return Ie(1);const e=i.getBoundingClientRect(),{width:n,height:t,$:o}=yr(i);let s=(o?Tt(e.width):e.width)/n,a=(o?Tt(e.height):e.height)/t;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Bi=Ie(0);function xr(r){const i=ye(r);return!wn()||!i.visualViewport?Bi:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function Vi(r,i,e){return i===void 0&&(i=!1),!e||i&&e!==ye(r)?!1:i}function qe(r,i,e,n){i===void 0&&(i=!1),e===void 0&&(e=!1);const t=r.getBoundingClientRect(),o=yn(r);let s=Ie(1);i&&(n?Ee(n)&&(s=rt(n)):s=rt(r));const a=Vi(o,e,n)?xr(o):Ie(0);let u=(t.left+a.x)/s.x,h=(t.top+a.y)/s.y,c=t.width/s.x,f=t.height/s.y;if(o){const l=ye(o),d=n&&Ee(n)?ye(n):n;let g=l,y=rn(g);for(;y&&n&&d!==g;){const S=rt(y),x=y.getBoundingClientRect(),_=Pe(y),P=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*S.x,T=x.top+(y.clientTop+parseFloat(_.paddingTop))*S.y;u*=S.x,h*=S.y,c*=S.x,f*=S.y,u+=P,h+=T,g=ye(y),y=rn(g)}}return It({width:c,height:f,x:u,y:h})}function xn(r,i){const e=kt(r).scrollLeft;return i?i.left+e:qe(Oe(r)).left+e}function br(r,i,e){e===void 0&&(e=!1);const n=r.getBoundingClientRect(),t=n.left+i.scrollLeft-(e?0:xn(r,n)),o=n.top+i.scrollTop;return{x:t,y:o}}function $i(r){let{elements:i,rect:e,offsetParent:n,strategy:t}=r;const o=t==="fixed",s=Oe(n),a=i?Ut(i.floating):!1;if(n===s||a&&o)return e;let u={scrollLeft:0,scrollTop:0},h=Ie(1);const c=Ie(0),f=De(n);if((f||!f&&!o)&&((at(n)!=="body"||gt(s))&&(u=kt(n)),De(n))){const d=qe(n);h=rt(n),c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}const l=s&&!f&&!o?br(s,u,!0):Ie(0);return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-u.scrollLeft*h.x+c.x+l.x,y:e.y*h.y-u.scrollTop*h.y+c.y+l.y}}function Zi(r){return Array.from(r.getClientRects())}function Gi(r){const i=Oe(r),e=kt(r),n=r.ownerDocument.body,t=we(i.scrollWidth,i.clientWidth,n.scrollWidth,n.clientWidth),o=we(i.scrollHeight,i.clientHeight,n.scrollHeight,n.clientHeight);let s=-e.scrollLeft+xn(r);const a=-e.scrollTop;return Pe(n).direction==="rtl"&&(s+=we(i.clientWidth,n.clientWidth)-t),{width:t,height:o,x:s,y:a}}function Ki(r,i){const e=ye(r),n=Oe(r),t=e.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,u=0;if(t){o=t.width,s=t.height;const h=wn();(!h||h&&i==="fixed")&&(a=t.offsetLeft,u=t.offsetTop)}return{width:o,height:s,x:a,y:u}}const Yi=new Set(["absolute","fixed"]);function Xi(r,i){const e=qe(r,!0,i==="fixed"),n=e.top+r.clientTop,t=e.left+r.clientLeft,o=De(r)?rt(r):Ie(1),s=r.clientWidth*o.x,a=r.clientHeight*o.y,u=t*o.x,h=n*o.y;return{width:s,height:a,x:u,y:h}}function Bn(r,i,e){let n;if(i==="viewport")n=Ki(r,e);else if(i==="document")n=Gi(Oe(r));else if(Ee(i))n=Xi(i,e);else{const t=xr(r);n={x:i.x-t.x,y:i.y-t.y,width:i.width,height:i.height}}return It(n)}function Sr(r,i){const e=je(r);return e===i||!Ee(e)||it(e)?!1:Pe(e).position==="fixed"||Sr(e,i)}function qi(r,i){const e=i.get(r);if(e)return e;let n=pt(r,[],!1).filter(a=>Ee(a)&&at(a)!=="body"),t=null;const o=Pe(r).position==="fixed";let s=o?je(r):r;for(;Ee(s)&&!it(s);){const a=Pe(s),u=vn(s);!u&&a.position==="fixed"&&(t=null),(o?!u&&!t:!u&&a.position==="static"&&!!t&&Yi.has(t.position)||gt(s)&&!u&&Sr(r,s))?n=n.filter(c=>c!==s):t=a,s=je(s)}return i.set(r,n),n}function Qi(r){let{element:i,boundary:e,rootBoundary:n,strategy:t}=r;const s=[...e==="clippingAncestors"?Ut(i)?[]:qi(i,this._c):[].concat(e),n],a=s[0],u=s.reduce((h,c)=>{const f=Bn(i,c,t);return h.top=we(f.top,h.top),h.right=We(f.right,h.right),h.bottom=We(f.bottom,h.bottom),h.left=we(f.left,h.left),h},Bn(i,a,t));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ji(r){const{width:i,height:e}=yr(r);return{width:i,height:e}}function es(r,i,e){const n=De(i),t=Oe(i),o=e==="fixed",s=qe(r,!0,o,i);let a={scrollLeft:0,scrollTop:0};const u=Ie(0);function h(){u.x=xn(t)}if(n||!n&&!o)if((at(i)!=="body"||gt(t))&&(a=kt(i)),n){const d=qe(i,!0,o,i);u.x=d.x+i.clientLeft,u.y=d.y+i.clientTop}else t&&h();o&&!n&&t&&h();const c=t&&!n&&!o?br(t,a):Ie(0),f=s.left+a.scrollLeft-u.x-c.x,l=s.top+a.scrollTop-u.y-c.y;return{x:f,y:l,width:s.width,height:s.height}}function $t(r){return Pe(r).position==="static"}function Vn(r,i){if(!De(r)||Pe(r).position==="fixed")return null;if(i)return i(r);let e=r.offsetParent;return Oe(r)===e&&(e=e.ownerDocument.body),e}function Ar(r,i){const e=ye(r);if(Ut(r))return e;if(!De(r)){let t=je(r);for(;t&&!it(t);){if(Ee(t)&&!$t(t))return t;t=je(t)}return e}let n=Vn(r,i);for(;n&&Li(n)&&$t(n);)n=Vn(n,i);return n&&it(n)&&$t(n)&&!vn(n)?e:n||Wi(r)||e}const ts=async function(r){const i=this.getOffsetParent||Ar,e=this.getDimensions,n=await e(r.floating);return{reference:es(r.reference,await i(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ns(r){return Pe(r).direction==="rtl"}const rs={convertOffsetParentRelativeRectToViewportRelativeRect:$i,getDocumentElement:Oe,getClippingRect:Qi,getOffsetParent:Ar,getElementRects:ts,getClientRects:Zi,getDimensions:Ji,getScale:rt,isElement:Ee,isRTL:ns};function Cr(r,i){return r.x===i.x&&r.y===i.y&&r.width===i.width&&r.height===i.height}function os(r,i){let e=null,n;const t=Oe(r);function o(){var a;clearTimeout(n),(a=e)==null||a.disconnect(),e=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const h=r.getBoundingClientRect(),{left:c,top:f,width:l,height:d}=h;if(a||i(),!l||!d)return;const g=yt(f),y=yt(t.clientWidth-(c+l)),S=yt(t.clientHeight-(f+d)),x=yt(c),P={rootMargin:-g+"px "+-y+"px "+-S+"px "+-x+"px",threshold:we(0,We(1,u))||1};let T=!0;function N(b){const O=b[0].intersectionRatio;if(O!==u){if(!T)return s();O?s(!1,O):n=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!Cr(h,r.getBoundingClientRect())&&s(),T=!1}try{e=new IntersectionObserver(N,{...P,root:t.ownerDocument})}catch{e=new IntersectionObserver(N,P)}e.observe(r)}return s(!0),o}function is(r,i,e,n){n===void 0&&(n={});const{ancestorScroll:t=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=yn(r),c=t||o?[...h?pt(h):[],...pt(i)]:[];c.forEach(x=>{t&&x.addEventListener("scroll",e,{passive:!0}),o&&x.addEventListener("resize",e)});const f=h&&a?os(h,e):null;let l=-1,d=null;s&&(d=new ResizeObserver(x=>{let[_]=x;_&&_.target===h&&d&&(d.unobserve(i),cancelAnimationFrame(l),l=requestAnimationFrame(()=>{var P;(P=d)==null||P.observe(i)})),e()}),h&&!u&&d.observe(h),d.observe(i));let g,y=u?qe(r):null;u&&S();function S(){const x=qe(r);y&&!Cr(y,x)&&e(),y=x,g=requestAnimationFrame(S)}return e(),()=>{var x;c.forEach(_=>{t&&_.removeEventListener("scroll",e),o&&_.removeEventListener("resize",e)}),f==null||f(),(x=d)==null||x.disconnect(),d=null,u&&cancelAnimationFrame(g)}}const ss=Mi,as=Ii,cs=Pi,ls=Oi,fs=_i,$n=Ei,us=Di,ds=(r,i,e)=>{const n=new Map,t={platform:rs,...e},o={...t.platform,_c:n};return Ri(r,i,{...t,platform:o})};var hs=typeof document<"u",ps=function(){},Ct=hs?k.useLayoutEffect:ps;function Dt(r,i){if(r===i)return!0;if(typeof r!=typeof i)return!1;if(typeof r=="function"&&r.toString()===i.toString())return!0;let e,n,t;if(r&&i&&typeof r=="object"){if(Array.isArray(r)){if(e=r.length,e!==i.length)return!1;for(n=e;n--!==0;)if(!Dt(r[n],i[n]))return!1;return!0}if(t=Object.keys(r),e=t.length,e!==Object.keys(i).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(i,t[n]))return!1;for(n=e;n--!==0;){const o=t[n];if(!(o==="_owner"&&r.$$typeof)&&!Dt(r[o],i[o]))return!1}return!0}return r!==r&&i!==i}function Rr(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Zn(r,i){const e=Rr(r);return Math.round(i*e)/e}function Zt(r){const i=k.useRef(r);return Ct(()=>{i.current=r}),i}function gs(r){r===void 0&&(r={});const{placement:i="bottom",strategy:e="absolute",middleware:n=[],platform:t,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:u,open:h}=r,[c,f]=k.useState({x:0,y:0,strategy:e,placement:i,middlewareData:{},isPositioned:!1}),[l,d]=k.useState(n);Dt(l,n)||d(n);const[g,y]=k.useState(null),[S,x]=k.useState(null),_=k.useCallback(F=>{F!==b.current&&(b.current=F,y(F))},[]),P=k.useCallback(F=>{F!==O.current&&(O.current=F,x(F))},[]),T=o||g,N=s||S,b=k.useRef(null),O=k.useRef(null),w=k.useRef(c),m=u!=null,C=Zt(u),E=Zt(t),R=Zt(h),M=k.useCallback(()=>{if(!b.current||!O.current)return;const F={placement:i,strategy:e,middleware:l};E.current&&(F.platform=E.current),ds(b.current,O.current,F).then(I=>{const U={...I,isPositioned:R.current!==!1};A.current&&!Dt(w.current,U)&&(w.current=U,fn.flushSync(()=>{f(U)}))})},[l,i,e,E,R]);Ct(()=>{h===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[h]);const A=k.useRef(!1);Ct(()=>(A.current=!0,()=>{A.current=!1}),[]),Ct(()=>{if(T&&(b.current=T),N&&(O.current=N),T&&N){if(C.current)return C.current(T,N,M);M()}},[T,N,M,C,m]);const D=k.useMemo(()=>({reference:b,floating:O,setReference:_,setFloating:P}),[_,P]),v=k.useMemo(()=>({reference:T,floating:N}),[T,N]),p=k.useMemo(()=>{const F={position:e,left:0,top:0};if(!v.floating)return F;const I=Zn(v.floating,c.x),U=Zn(v.floating,c.y);return a?{...F,transform:"translate("+I+"px, "+U+"px)",...Rr(v.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:I,top:U}},[e,a,v.floating,c.x,c.y]);return k.useMemo(()=>({...c,update:M,refs:D,elements:v,floatingStyles:p}),[c,M,D,v,p])}const ms=r=>{function i(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:r,fn(e){const{element:n,padding:t}=typeof r=="function"?r(e):r;return n&&i(n)?n.current!=null?$n({element:n.current,padding:t}).fn(e):{}:n?$n({element:n,padding:t}).fn(e):{}}}},vs=(r,i)=>({...ss(r),options:[r,i]}),ws=(r,i)=>({...as(r),options:[r,i]}),ys=(r,i)=>({...us(r),options:[r,i]}),xs=(r,i)=>({...cs(r),options:[r,i]}),bs=(r,i)=>({...ls(r),options:[r,i]}),Ss=(r,i)=>({...fs(r),options:[r,i]}),As=(r,i)=>({...ms(r),options:[r,i]});var Cs="Arrow",Er=k.forwardRef((r,i)=>{const{children:e,width:n=10,height:t=5,...o}=r;return W.jsx(fe.svg,{...o,ref:i,width:n,height:t,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?e:W.jsx("polygon",{points:"0,0 30,0 15,10"})})});Er.displayName=Cs;var Rs=Er;function Es(r){const[i,e]=k.useState(void 0);return Re(()=>{if(r){e({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;const o=t[0];let s,a;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;s=h.inlineSize,a=h.blockSize}else s=r.offsetWidth,a=r.offsetHeight;e({width:s,height:a})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else e(void 0)},[r]),i}var bn="Popper",[Pr,_r]=Kn(bn),[Ps,Tr]=Pr(bn),Mr=r=>{const{__scopePopper:i,children:e}=r,[n,t]=k.useState(null);return W.jsx(Ps,{scope:i,anchor:n,onAnchorChange:t,children:e})};Mr.displayName=bn;var Ir="PopperAnchor",Dr=k.forwardRef((r,i)=>{const{__scopePopper:e,virtualRef:n,...t}=r,o=Tr(Ir,e),s=k.useRef(null),a=be(i,s);return k.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:W.jsx(fe.div,{...t,ref:a})});Dr.displayName=Ir;var Sn="PopperContent",[_s,Ts]=Pr(Sn),Or=k.forwardRef((r,i)=>{var j,$,X,G,K,Y;const{__scopePopper:e,side:n="bottom",sideOffset:t=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:l=!1,updatePositionStrategy:d="optimized",onPlaced:g,...y}=r,S=Tr(Sn,e),[x,_]=k.useState(null),P=be(i,re=>_(re)),[T,N]=k.useState(null),b=Es(T),O=(b==null?void 0:b.width)??0,w=(b==null?void 0:b.height)??0,m=n+(o!=="center"?"-"+o:""),C=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},E=Array.isArray(h)?h:[h],R=E.length>0,M={padding:C,boundary:E.filter(Is),altBoundary:R},{refs:A,floatingStyles:D,placement:v,isPositioned:p,middlewareData:F}=gs({strategy:"fixed",placement:m,whileElementsMounted:(...re)=>is(...re,{animationFrame:d==="always"}),elements:{reference:S.anchor},middleware:[vs({mainAxis:t+w,alignmentAxis:s}),u&&ws({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ys():void 0,...M}),u&&xs({...M}),bs({...M,apply:({elements:re,rects:oe,availableWidth:Q,availableHeight:te})=>{const{width:q,height:J}=oe.reference,ne=re.floating.style;ne.setProperty("--radix-popper-available-width",`${Q}px`),ne.setProperty("--radix-popper-available-height",`${te}px`),ne.setProperty("--radix-popper-anchor-width",`${q}px`),ne.setProperty("--radix-popper-anchor-height",`${J}px`)}}),T&&As({element:T,padding:a}),Ds({arrowWidth:O,arrowHeight:w}),l&&Ss({strategy:"referenceHidden",...M})]}),[I,U]=Lr(v),V=Yn(g);Re(()=>{p&&(V==null||V())},[p,V]);const H=(j=F.arrow)==null?void 0:j.x,B=($=F.arrow)==null?void 0:$.y,z=((X=F.arrow)==null?void 0:X.centerOffset)!==0,[L,Z]=k.useState();return Re(()=>{x&&Z(window.getComputedStyle(x).zIndex)},[x]),W.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:p?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L,"--radix-popper-transform-origin":[(G=F.transformOrigin)==null?void 0:G.x,(K=F.transformOrigin)==null?void 0:K.y].join(" "),...((Y=F.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:W.jsx(_s,{scope:e,placedSide:I,onArrowChange:N,arrowX:H,arrowY:B,shouldHideArrow:z,children:W.jsx(fe.div,{"data-side":I,"data-align":U,...y,ref:P,style:{...y.style,animation:p?void 0:"none"}})})})});Or.displayName=Sn;var Nr="PopperArrow",Ms={top:"bottom",right:"left",bottom:"top",left:"right"},Fr=k.forwardRef(function(i,e){const{__scopePopper:n,...t}=i,o=Ts(Nr,n),s=Ms[o.placedSide];return W.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:W.jsx(Rs,{...t,ref:e,style:{...t.style,display:"block"}})})});Fr.displayName=Nr;function Is(r){return r!==null}var Ds=r=>({name:"transformOrigin",options:r,fn(i){var S,x,_;const{placement:e,rects:n,middlewareData:t}=i,s=((S=t.arrow)==null?void 0:S.centerOffset)!==0,a=s?0:r.arrowWidth,u=s?0:r.arrowHeight,[h,c]=Lr(e),f={start:"0%",center:"50%",end:"100%"}[c],l=(((x=t.arrow)==null?void 0:x.x)??0)+a/2,d=(((_=t.arrow)==null?void 0:_.y)??0)+u/2;let g="",y="";return h==="bottom"?(g=s?f:`${l}px`,y=`${-u}px`):h==="top"?(g=s?f:`${l}px`,y=`${n.floating.height+u}px`):h==="right"?(g=`${-u}px`,y=s?f:`${d}px`):h==="left"&&(g=`${n.floating.width+u}px`,y=s?f:`${d}px`),{data:{x:g,y}}}});function Lr(r){const[i,e="center"]=r.split("-");return[i,e]}var Os=Mr,Ns=Dr,Fs=Or,Ls=Fr;function Us(r){const i=k.useRef({value:r,previous:r});return k.useMemo(()=>(i.current.value!==r&&(i.current.previous=i.current.value,i.current.value=r),i.current.previous),[r])}var ks=[" ","Enter","ArrowUp","ArrowDown"],zs=[" ","Enter"],Qe="Select",[zt,Ht,Hs]=To(Qe),[ct,Aa]=Kn(Qe,[Hs,_r]),Wt=_r(),[Ws,Be]=ct(Qe),[js,Bs]=ct(Qe),Ur=r=>{const{__scopeSelect:i,children:e,open:n,defaultOpen:t,onOpenChange:o,value:s,defaultValue:a,onValueChange:u,dir:h,name:c,autoComplete:f,disabled:l,required:d,form:g}=r,y=Wt(i),[S,x]=k.useState(null),[_,P]=k.useState(null),[T,N]=k.useState(!1),b=No(h),[O,w]=En({prop:n,defaultProp:t??!1,onChange:o,caller:Qe}),[m,C]=En({prop:s,defaultProp:a,onChange:u,caller:Qe}),E=k.useRef(null),R=S?g||!!S.closest("form"):!0,[M,A]=k.useState(new Set),D=Array.from(M).map(v=>v.props.value).join(";");return W.jsx(Os,{...y,children:W.jsxs(Ws,{required:d,scope:i,trigger:S,onTriggerChange:x,valueNode:_,onValueNodeChange:P,valueNodeHasChildren:T,onValueNodeHasChildrenChange:N,contentId:un(),value:m,onValueChange:C,open:O,onOpenChange:w,dir:b,triggerPointerDownPosRef:E,disabled:l,children:[W.jsx(zt.Provider,{scope:i,children:W.jsx(js,{scope:r.__scopeSelect,onNativeOptionAdd:k.useCallback(v=>{A(p=>new Set(p).add(v))},[]),onNativeOptionRemove:k.useCallback(v=>{A(p=>{const F=new Set(p);return F.delete(v),F})},[]),children:e})}),R?W.jsxs(ao,{"aria-hidden":!0,required:d,tabIndex:-1,name:c,autoComplete:f,value:m,onChange:v=>C(v.target.value),disabled:l,form:g,children:[m===void 0?W.jsx("option",{value:""}):null,Array.from(M)]},D):null]})})};Ur.displayName=Qe;var kr="SelectTrigger",zr=k.forwardRef((r,i)=>{const{__scopeSelect:e,disabled:n=!1,...t}=r,o=Wt(e),s=Be(kr,e),a=s.disabled||n,u=be(i,s.onTriggerChange),h=Ht(e),c=k.useRef("touch"),[f,l,d]=lo(y=>{const S=h().filter(P=>!P.disabled),x=S.find(P=>P.value===s.value),_=fo(S,y,x);_!==void 0&&s.onValueChange(_.value)}),g=y=>{a||(s.onOpenChange(!0),d()),y&&(s.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return W.jsx(Ns,{asChild:!0,...o,children:W.jsx(fe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":co(s.value)?"":void 0,...t,ref:u,onClick:ae(t.onClick,y=>{y.currentTarget.focus(),c.current!=="mouse"&&g(y)}),onPointerDown:ae(t.onPointerDown,y=>{c.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:ae(t.onKeyDown,y=>{const S=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&l(y.key),!(S&&y.key===" ")&&ks.includes(y.key)&&(g(),y.preventDefault())})})})});zr.displayName=kr;var Hr="SelectValue",Wr=k.forwardRef((r,i)=>{const{__scopeSelect:e,className:n,style:t,children:o,placeholder:s="",...a}=r,u=Be(Hr,e),{onValueNodeHasChildrenChange:h}=u,c=o!==void 0,f=be(i,u.onValueNodeChange);return Re(()=>{h(c)},[h,c]),W.jsx(fe.span,{...a,ref:f,style:{pointerEvents:"none"},children:co(u.value)?W.jsx(W.Fragment,{children:s}):o})});Wr.displayName=Hr;var Vs="SelectIcon",jr=k.forwardRef((r,i)=>{const{__scopeSelect:e,children:n,...t}=r;return W.jsx(fe.span,{"aria-hidden":!0,...t,ref:i,children:n||""})});jr.displayName=Vs;var $s="SelectPortal",Br=r=>W.jsx(Do,{asChild:!0,...r});Br.displayName=$s;var Je="SelectContent",Vr=k.forwardRef((r,i)=>{const e=Be(Je,r.__scopeSelect),[n,t]=k.useState();if(Re(()=>{t(new DocumentFragment)},[]),!e.open){const o=n;return o?fn.createPortal(W.jsx($r,{scope:r.__scopeSelect,children:W.jsx(zt.Slot,{scope:r.__scopeSelect,children:W.jsx("div",{children:r.children})})}),o):null}return W.jsx(Zr,{...r,ref:i})});Vr.displayName=Je;var Ce=10,[$r,Ve]=ct(Je),Zs="SelectContentImpl",Gs=Oo("SelectContent.RemoveScroll"),Zr=k.forwardRef((r,i)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:t,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:u,align:h,alignOffset:c,arrowPadding:f,collisionBoundary:l,collisionPadding:d,sticky:g,hideWhenDetached:y,avoidCollisions:S,...x}=r,_=Be(Je,e),[P,T]=k.useState(null),[N,b]=k.useState(null),O=be(i,j=>T(j)),[w,m]=k.useState(null),[C,E]=k.useState(null),R=Ht(e),[M,A]=k.useState(!1),D=k.useRef(!1);k.useEffect(()=>{if(P)return Co(P)},[P]),Ro();const v=k.useCallback(j=>{const[$,...X]=R().map(Y=>Y.ref.current),[G]=X.slice(-1),K=document.activeElement;for(const Y of j)if(Y===K||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===$&&N&&(N.scrollTop=0),Y===G&&N&&(N.scrollTop=N.scrollHeight),Y==null||Y.focus(),document.activeElement!==K))return},[R,N]),p=k.useCallback(()=>v([w,P]),[v,w,P]);k.useEffect(()=>{M&&p()},[M,p]);const{onOpenChange:F,triggerPointerDownPosRef:I}=_;k.useEffect(()=>{if(P){let j={x:0,y:0};const $=G=>{var K,Y;j={x:Math.abs(Math.round(G.pageX)-(((K=I.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(G.pageY)-(((Y=I.current)==null?void 0:Y.y)??0))}},X=G=>{j.x<=10&&j.y<=10?G.preventDefault():P.contains(G.target)||F(!1),document.removeEventListener("pointermove",$),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",X,{capture:!0})}}},[P,F,I]),k.useEffect(()=>{const j=()=>F(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[F]);const[U,V]=lo(j=>{const $=R().filter(K=>!K.disabled),X=$.find(K=>K.ref.current===document.activeElement),G=fo($,j,X);G&&setTimeout(()=>G.ref.current.focus())}),H=k.useCallback((j,$,X)=>{const G=!D.current&&!X;(_.value!==void 0&&_.value===$||G)&&(m(j),G&&(D.current=!0))},[_.value]),B=k.useCallback(()=>P==null?void 0:P.focus(),[P]),z=k.useCallback((j,$,X)=>{const G=!D.current&&!X;(_.value!==void 0&&_.value===$||G)&&E(j)},[_.value]),L=n==="popper"?on:Gr,Z=L===on?{side:a,sideOffset:u,align:h,alignOffset:c,arrowPadding:f,collisionBoundary:l,collisionPadding:d,sticky:g,hideWhenDetached:y,avoidCollisions:S}:{};return W.jsx($r,{scope:e,content:P,viewport:N,onViewportChange:b,itemRefCallback:H,selectedItem:w,onItemLeave:B,itemTextRefCallback:z,focusSelectedItem:p,selectedItemText:C,position:n,isPositioned:M,searchRef:U,children:W.jsx(Eo,{as:Gs,allowPinchZoom:!0,children:W.jsx(Po,{asChild:!0,trapped:_.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:ae(t,j=>{var $;($=_.trigger)==null||$.focus({preventScroll:!0}),j.preventDefault()}),children:W.jsx(Mo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:W.jsx(L,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:j=>j.preventDefault(),...x,...Z,onPlaced:()=>A(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ae(x.onKeyDown,j=>{const $=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!$&&j.key.length===1&&V(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let G=R().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(j.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const K=j.target,Y=G.indexOf(K);G=G.slice(Y+1)}setTimeout(()=>v(G)),j.preventDefault()}})})})})})})});Zr.displayName=Zs;var Ks="SelectItemAlignedPosition",Gr=k.forwardRef((r,i)=>{const{__scopeSelect:e,onPlaced:n,...t}=r,o=Be(Je,e),s=Ve(Je,e),[a,u]=k.useState(null),[h,c]=k.useState(null),f=be(i,O=>c(O)),l=Ht(e),d=k.useRef(!1),g=k.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:x,focusSelectedItem:_}=s,P=k.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&h&&y&&S&&x){const O=o.trigger.getBoundingClientRect(),w=h.getBoundingClientRect(),m=o.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(o.dir!=="rtl"){const K=C.left-w.left,Y=m.left-K,re=O.left-Y,oe=O.width+re,Q=Math.max(oe,w.width),te=window.innerWidth-Ce,q=Ln(Y,[Ce,Math.max(Ce,te-Q)]);a.style.minWidth=oe+"px",a.style.left=q+"px"}else{const K=w.right-C.right,Y=window.innerWidth-m.right-K,re=window.innerWidth-O.right-Y,oe=O.width+re,Q=Math.max(oe,w.width),te=window.innerWidth-Ce,q=Ln(Y,[Ce,Math.max(Ce,te-Q)]);a.style.minWidth=oe+"px",a.style.right=q+"px"}const E=l(),R=window.innerHeight-Ce*2,M=y.scrollHeight,A=window.getComputedStyle(h),D=parseInt(A.borderTopWidth,10),v=parseInt(A.paddingTop,10),p=parseInt(A.borderBottomWidth,10),F=parseInt(A.paddingBottom,10),I=D+v+M+F+p,U=Math.min(S.offsetHeight*5,I),V=window.getComputedStyle(y),H=parseInt(V.paddingTop,10),B=parseInt(V.paddingBottom,10),z=O.top+O.height/2-Ce,L=R-z,Z=S.offsetHeight/2,j=S.offsetTop+Z,$=D+v+j,X=I-$;if($<=z){const K=E.length>0&&S===E[E.length-1].ref.current;a.style.bottom="0px";const Y=h.clientHeight-y.offsetTop-y.offsetHeight,re=Math.max(L,Z+(K?B:0)+Y+p),oe=$+re;a.style.height=oe+"px"}else{const K=E.length>0&&S===E[0].ref.current;a.style.top="0px";const re=Math.max(z,D+y.offsetTop+(K?H:0)+Z)+X;a.style.height=re+"px",y.scrollTop=$-z+y.offsetTop}a.style.margin=`${Ce}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>d.current=!0)}},[l,o.trigger,o.valueNode,a,h,y,S,x,o.dir,n]);Re(()=>P(),[P]);const[T,N]=k.useState();Re(()=>{h&&N(window.getComputedStyle(h).zIndex)},[h]);const b=k.useCallback(O=>{O&&g.current===!0&&(P(),_==null||_(),g.current=!1)},[P,_]);return W.jsx(Xs,{scope:e,contentWrapper:a,shouldExpandOnScrollRef:d,onScrollButtonChange:b,children:W.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:W.jsx(fe.div,{...t,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...t.style}})})})});Gr.displayName=Ks;var Ys="SelectPopperPosition",on=k.forwardRef((r,i)=>{const{__scopeSelect:e,align:n="start",collisionPadding:t=Ce,...o}=r,s=Wt(e);return W.jsx(Fs,{...s,...o,ref:i,align:n,collisionPadding:t,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});on.displayName=Ys;var[Xs,An]=ct(Je,{}),sn="SelectViewport",Kr=k.forwardRef((r,i)=>{const{__scopeSelect:e,nonce:n,...t}=r,o=Ve(sn,e),s=An(sn,e),a=be(i,o.onViewportChange),u=k.useRef(0);return W.jsxs(W.Fragment,{children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),W.jsx(zt.Slot,{scope:e,children:W.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...t,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...t.style},onScroll:ae(t.onScroll,h=>{const c=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:l}=s;if(l!=null&&l.current&&f){const d=Math.abs(u.current-c.scrollTop);if(d>0){const g=window.innerHeight-Ce*2,y=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),x=Math.max(y,S);if(x<g){const _=x+d,P=Math.min(g,_),T=_-P;f.style.height=P+"px",f.style.bottom==="0px"&&(c.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}u.current=c.scrollTop})})})]})});Kr.displayName=sn;var Yr="SelectGroup",[qs,Qs]=ct(Yr),Js=k.forwardRef((r,i)=>{const{__scopeSelect:e,...n}=r,t=un();return W.jsx(qs,{scope:e,id:t,children:W.jsx(fe.div,{role:"group","aria-labelledby":t,...n,ref:i})})});Js.displayName=Yr;var Xr="SelectLabel",qr=k.forwardRef((r,i)=>{const{__scopeSelect:e,...n}=r,t=Qs(Xr,e);return W.jsx(fe.div,{id:t.id,...n,ref:i})});qr.displayName=Xr;var Ot="SelectItem",[ea,Qr]=ct(Ot),Jr=k.forwardRef((r,i)=>{const{__scopeSelect:e,value:n,disabled:t=!1,textValue:o,...s}=r,a=Be(Ot,e),u=Ve(Ot,e),h=a.value===n,[c,f]=k.useState(o??""),[l,d]=k.useState(!1),g=be(i,_=>{var P;return(P=u.itemRefCallback)==null?void 0:P.call(u,_,n,t)}),y=un(),S=k.useRef("touch"),x=()=>{t||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return W.jsx(ea,{scope:e,value:n,disabled:t,textId:y,isSelected:h,onItemTextChange:k.useCallback(_=>{f(P=>P||((_==null?void 0:_.textContent)??"").trim())},[]),children:W.jsx(zt.ItemSlot,{scope:e,value:n,disabled:t,textValue:c,children:W.jsx(fe.div,{role:"option","aria-labelledby":y,"data-highlighted":l?"":void 0,"aria-selected":h&&l,"data-state":h?"checked":"unchecked","aria-disabled":t||void 0,"data-disabled":t?"":void 0,tabIndex:t?void 0:-1,...s,ref:g,onFocus:ae(s.onFocus,()=>d(!0)),onBlur:ae(s.onBlur,()=>d(!1)),onClick:ae(s.onClick,()=>{S.current!=="mouse"&&x()}),onPointerUp:ae(s.onPointerUp,()=>{S.current==="mouse"&&x()}),onPointerDown:ae(s.onPointerDown,_=>{S.current=_.pointerType}),onPointerMove:ae(s.onPointerMove,_=>{var P;S.current=_.pointerType,t?(P=u.onItemLeave)==null||P.call(u):S.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(s.onPointerLeave,_=>{var P;_.currentTarget===document.activeElement&&((P=u.onItemLeave)==null||P.call(u))}),onKeyDown:ae(s.onKeyDown,_=>{var T;((T=u.searchRef)==null?void 0:T.current)!==""&&_.key===" "||(zs.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});Jr.displayName=Ot;var dt="SelectItemText",eo=k.forwardRef((r,i)=>{const{__scopeSelect:e,className:n,style:t,...o}=r,s=Be(dt,e),a=Ve(dt,e),u=Qr(dt,e),h=Bs(dt,e),[c,f]=k.useState(null),l=be(i,x=>f(x),u.onItemTextChange,x=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,x,u.value,u.disabled)}),d=c==null?void 0:c.textContent,g=k.useMemo(()=>W.jsx("option",{value:u.value,disabled:u.disabled,children:d},u.value),[u.disabled,u.value,d]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=h;return Re(()=>(y(g),()=>S(g)),[y,S,g]),W.jsxs(W.Fragment,{children:[W.jsx(fe.span,{id:u.textId,...o,ref:l}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?fn.createPortal(o.children,s.valueNode):null]})});eo.displayName=dt;var to="SelectItemIndicator",no=k.forwardRef((r,i)=>{const{__scopeSelect:e,...n}=r;return Qr(to,e).isSelected?W.jsx(fe.span,{"aria-hidden":!0,...n,ref:i}):null});no.displayName=to;var an="SelectScrollUpButton",ro=k.forwardRef((r,i)=>{const e=Ve(an,r.__scopeSelect),n=An(an,r.__scopeSelect),[t,o]=k.useState(!1),s=be(i,n.onScrollButtonChange);return Re(()=>{if(e.viewport&&e.isPositioned){let a=function(){const h=u.scrollTop>0;o(h)};const u=e.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),t?W.jsx(io,{...r,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=e;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});ro.displayName=an;var cn="SelectScrollDownButton",oo=k.forwardRef((r,i)=>{const e=Ve(cn,r.__scopeSelect),n=An(cn,r.__scopeSelect),[t,o]=k.useState(!1),s=be(i,n.onScrollButtonChange);return Re(()=>{if(e.viewport&&e.isPositioned){let a=function(){const h=u.scrollHeight-u.clientHeight,c=Math.ceil(u.scrollTop)<h;o(c)};const u=e.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),t?W.jsx(io,{...r,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=e;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});oo.displayName=cn;var io=k.forwardRef((r,i)=>{const{__scopeSelect:e,onAutoScroll:n,...t}=r,o=Ve("SelectScrollButton",e),s=k.useRef(null),a=Ht(e),u=k.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return k.useEffect(()=>()=>u(),[u]),Re(()=>{var c;const h=a().find(f=>f.ref.current===document.activeElement);(c=h==null?void 0:h.ref.current)==null||c.scrollIntoView({block:"nearest"})},[a]),W.jsx(fe.div,{"aria-hidden":!0,...t,ref:i,style:{flexShrink:0,...t.style},onPointerDown:ae(t.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:ae(t.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:ae(t.onPointerLeave,()=>{u()})})}),ta="SelectSeparator",so=k.forwardRef((r,i)=>{const{__scopeSelect:e,...n}=r;return W.jsx(fe.div,{"aria-hidden":!0,...n,ref:i})});so.displayName=ta;var ln="SelectArrow",na=k.forwardRef((r,i)=>{const{__scopeSelect:e,...n}=r,t=Wt(e),o=Be(ln,e),s=Ve(ln,e);return o.open&&s.position==="popper"?W.jsx(Ls,{...t,...n,ref:i}):null});na.displayName=ln;var ra="SelectBubbleInput",ao=k.forwardRef(({__scopeSelect:r,value:i,...e},n)=>{const t=k.useRef(null),o=be(n,t),s=Us(i);return k.useEffect(()=>{const a=t.current;if(!a)return;const u=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(u,"value").set;if(s!==i&&c){const f=new Event("change",{bubbles:!0});c.call(a,i),a.dispatchEvent(f)}},[s,i]),W.jsx(fe.select,{...e,style:{...Io,...e.style},ref:o,defaultValue:i})});ao.displayName=ra;function co(r){return r===""||r===void 0}function lo(r){const i=Yn(r),e=k.useRef(""),n=k.useRef(0),t=k.useCallback(s=>{const a=e.current+s;i(a),function u(h){e.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(a)},[i]),o=k.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,t,o]}function fo(r,i,e){const t=i.length>1&&Array.from(i).every(h=>h===i[0])?i[0]:i,o=e?r.indexOf(e):-1;let s=oa(r,Math.max(o,0));t.length===1&&(s=s.filter(h=>h!==e));const u=s.find(h=>h.textValue.toLowerCase().startsWith(t.toLowerCase()));return u!==e?u:void 0}function oa(r,i){return r.map((e,n)=>r[(i+n)%r.length])}var ia=Ur,uo=zr,sa=Wr,aa=jr,ca=Br,ho=Vr,la=Kr,po=qr,go=Jr,fa=eo,ua=no,mo=ro,vo=oo,wo=so;const Ca=ia,Ra=sa,da=et.forwardRef(({className:r,children:i,...e},n)=>W.jsxs(uo,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...e,children:[i,W.jsx(aa,{asChild:!0,children:W.jsx(Xn,{className:"h-4 w-4 opacity-50"})})]}));da.displayName=uo.displayName;const yo=et.forwardRef(({className:r,...i},e)=>W.jsx(mo,{ref:e,className:He("flex cursor-default items-center justify-center py-1",r),...i,children:W.jsx(Lo,{className:"h-4 w-4"})}));yo.displayName=mo.displayName;const xo=et.forwardRef(({className:r,...i},e)=>W.jsx(vo,{ref:e,className:He("flex cursor-default items-center justify-center py-1",r),...i,children:W.jsx(Xn,{className:"h-4 w-4"})}));xo.displayName=vo.displayName;const ha=et.forwardRef(({className:r,children:i,position:e="popper",...n},t)=>W.jsx(ca,{children:W.jsxs(ho,{ref:t,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:e,...n,children:[W.jsx(yo,{}),W.jsx(la,{className:He("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),W.jsx(xo,{})]})}));ha.displayName=ho.displayName;const pa=et.forwardRef(({className:r,...i},e)=>W.jsx(po,{ref:e,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...i}));pa.displayName=po.displayName;const ga=et.forwardRef(({className:r,children:i,...e},n)=>W.jsxs(go,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...e,children:[W.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:W.jsx(ua,{children:W.jsx(Fo,{className:"h-4 w-4"})})}),W.jsx(fa,{children:i})]}));ga.displayName=go.displayName;const ma=et.forwardRef(({className:r,...i},e)=>W.jsx(wo,{ref:e,className:He("-mx-1 my-1 h-px bg-gray-100",r),...i}));ma.displayName=wo.displayName;export{ba as C,Ca as S,da as a,Ra as b,ha as c,ga as d,Sa as g,he as i};
